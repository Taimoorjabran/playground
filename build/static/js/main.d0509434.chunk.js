(this["webpackJsonpflathat-web-v2"]=this["webpackJsonpflathat-web-v2"]||[]).push([[0],{229:function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),i=r(50),s=r.n(i),c=r(15),l=r.n(c),a=r(22),d=r(5),u=r(262),b=r(139),h=r(257),j=r(140),m=r(236),g=r(266),p=r(12),f=r(170),x=r(29),O=r.p+"static/media/logo.d9039db0.svg",y=r(67),S=r(254),v=r(141),C=r(142),k=r(16),w=r(28),I=r(9),z=r(37),A=r(85),M=r(84),T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return e.length>t?e.substring(0,t)+"...":e},P=function(){function e(t,r){Object(k.a)(this,e),this._id="",this.parentId="",this.parentType="",this.user="",this.msgEs="",this.msg="",this.createdAt="",this.updatedAt="",this.msgType="",this.lastEdited=0,this.reactions=[],Object(I.d)(this),this._id=t._id,this.parentId=t.parentId,this.parentType=t.parentType,this.user=t.user,this.msg=t.msg,this.msgEs=t.msgEs,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt,this.msgType=t.msgType,this.lastEdited=t.lastEdited,this.reactions.replace(null===t||void 0===t?void 0:t.reactions.map((function(e){return new W(e)}))),this.root=r}return Object(w.a)(e,[{key:"message",get:function(){return"en"===this.root.language?this.msg:this.msgEs?this.msgEs:this.msg}},{key:"userDetail",get:function(){return this.root.memberStore.getMember(this.user)}}]),e}(),W=function e(t){Object(k.a)(this,e),this.members=[],this.emoji="",Object(I.d)(this),this.members.replace(t.members),this.emoji=t.emoji},R=function e(t,r){var n;Object(k.a)(this,e),this._id="",this.dueOn=0,this.description="",this.title="",this.link="",this.linkTitle="",this.messages=[],this.root=null,Object(I.d)(this),this._id=t._id,this.dueOn=t.dueOn,this.description=t.description,this.title=t.title,this.link=t.link,this.linkTitle=t.linkTitle,this.root=r,this.messages.replace(null===(n=t.messages)||void 0===n?void 0:n.map((function(e){return new P(e,r)})))},L=function e(t){Object(k.a)(this,e),this._id="",this.name="",this.email="",this.guardian="",this.schoolId="",this.roles="",this.karma=0,this.status="",this.loginType="",this.quote="",this.profilePic="",this.lastActive=0,this.userRoles=[],Object(I.d)(this),this._id=t._id,this.name=t.name,this.email=t.email,this.guardian=t.guardian,this.schoolId=t.schoolId,this.roles=t.roles,this.karma=t.karma,this.status=t.status,this.loginType=t.loginType,this.quote=t.quote,this.profilePic=t.profilePic,this.lastActive=t.lastActive,this.userRoles.replace(t.userRoles)},E=function(){function e(t,r){var n,o=this;Object(k.a)(this,e),this._id="",this.members=[],this.messages=[],this.description="",this.title="",this.root=null,this.otherMemeberNames=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t="";return o.otherMembers.map((function(e){return t+=" "+e.name+","})),t=t.slice(0,-1),T(t,e)},this.containsMember=function(e){return o.members.find((function(t){return t._id===e}))},Object(I.e)(this,{_id:I.f,members:I.f,messages:I.f,description:I.f,title:I.f}),this._id=null===t||void 0===t?void 0:t._id,this.title=null===t||void 0===t?void 0:t.title,this.root=r,this.members.replace(t.members.map((function(e){return o.root.memberStore.getMember(e)}))),this.messages.replace(null===(n=t.messages)||void 0===n?void 0:n.map((function(e){return new P(e,r)}))),this.description=t.description}return Object(w.a)(e,[{key:"otherMembers",get:function(){var e=this;return this.members.filter((function(t){return t._id!==e.root.userId}))}},{key:"commonClasses",get:function(){var e=[],t=this.otherMembers[0]._id;return this.root.classStore.classes.map((function(r){r.members.map((function(n){n._id===t&&e.push({_id:r._id,title:r.title})}))})),e}}]),e}(),D=function(e){Object(A.a)(r,e);var t=Object(M.a)(r);function r(e,n){var o,i;return Object(k.a)(this,r),(i=t.call(this,e,n)).isPrivate=!1,i.isGuidance=!1,i.isAdmin=!1,i.adminType="",Object(I.e)(Object(z.a)(i),{isPrivate:I.f,isGuidance:I.f}),i.messages.replace(null===e||void 0===e||null===(o=e.messages)||void 0===o?void 0:o.map((function(e){return new P(e,n)}))),i.description=null===e||void 0===e?void 0:e.description,i.isPrivate=null===e||void 0===e?void 0:e.isPrivate,i.isGuidance=null===e||void 0===e?void 0:e.isGuidance,i.isAdmin=null===e||void 0===e?void 0:e.isAdmin,i.adminType=null===e||void 0===e?void 0:e.adminType,i}return r}(E),Y=function(e){Object(A.a)(r,e);var t=Object(M.a)(r);function r(e,n){var o,i,s,c,l,a;return Object(k.a)(this,r),(a=t.call(this,e,n)).subtitle="",a.dailyMessage="",a.assignments=[],a.teachers=[],a.teachingAssistants=[],a.announcements=[],a.assignmentExists=function(e){return void 0!==a.assignments.find((function(t){return t._id===e}))},Object(I.e)(Object(z.a)(a),{subtitle:I.f,dailyMessage:I.f,assignments:I.f,teachers:I.f,announcements:I.f,teachingAssistants:I.f}),a.description=e.description,a.subtitle=e.subtitle,a.dailyMessage=e.dailyMessage,a.announcements.replace(null===(o=e.announcements)||void 0===o?void 0:o.map((function(e){return new P(e,n)}))),a.teachers.replace(null===e||void 0===e||null===(i=e.teachers)||void 0===i?void 0:i.map((function(e){return a.root.memberStore.getMember(e)}))),a.teachingAssistants.replace(null===e||void 0===e||null===(s=e.teachingAssistants)||void 0===s?void 0:s.map((function(e){return a.root.memberStore.getMember(e)}))),a.assignments.replace(null===(c=e.assignments)||void 0===c?void 0:c.map((function(e){return new R(e,n)}))),a.messages.replace(null===(l=e.messages)||void 0===l?void 0:l.map((function(e){return new P(e,n)}))),a}return Object(w.a)(r,[{key:"selectedAssignment",get:function(){var e=this;return this.assignments.find((function(t){return t._id===e.root.uiStore.innerSelectedId}))}},{key:"students",get:function(){var e=this.teachingAssistants.map((function(e){return e._id}));return this.members.filter((function(t){return"student"===t.roles&&!e.includes(t._id)}))}},{key:"guardians",get:function(){var e,t=this.teachingAssistants.map((function(e){return null===e||void 0===e?void 0:e._id}));return null===(e=this.members)||void 0===e?void 0:e.filter((function(e){return"student"===e.roles&&!t.includes(e._id)&&e.guardian}))}}]),r}(E),G=function e(t){Object(k.a)(this,e),this._id="",this.title="",Object(I.d)(this),this._id=t._id,this.title=t.title},U=function(){function e(t){var r=this;Object(k.a)(this,e),this.mainClasses=[],this.root=null,this.exists=function(e){return void 0!==r.classes.find((function(t){return t._id===e}))},Object(I.d)(this),this.root=t}return Object(w.a)(e,[{key:"classes",get:function(){return this.mainClasses}},{key:"selectedClass",get:function(){var e=this;return"class"===this.root.uiStore.subSelected?this.classes.find((function(t){return t._id===e.root.uiStore.selectedId})):null}}]),e}(),B=function(){function e(t){var r=this;Object(k.a)(this,e),this.direct=[],this.root=null,this.findDirect=function(e){return r.direct.find((function(t){return t._id===e}))},this.addTempUser=function(e){r.exists(e)||r.direct.push(new E({_id:e,members:[e,r.root.userId],messages:[],title:"",description:""},r.root))},this.exists=function(e){return void 0!==r.direct.find((function(t){return t._id===e}))},Object(I.d)(this),this.root=t}return Object(w.a)(e,[{key:"selectedDirect",get:function(){var e=this;return"direct"===this.root.uiStore.subSelected?this.direct.find((function(t){return t._id===e.root.uiStore.selectedId})):null}}]),e}(),N=function e(t,r){Object(k.a)(this,e),this._id="",this.description="",this.title="",this.schoolId="",this.create="",this.pinned=!1,this.allowComments=!0,this.image=!1,this.user=null,this.comments=[],this.root=null,Object(I.d)(this),this._id=t._id,this.description=t.description,this.title=t.title,this.user=new X(null===t||void 0===t?void 0:t.user),this.schoolId=t,this.create=t.create,this.pinned=t.pinned,this.allowComments=t.allowComments,this.image=t.image,this.comments.replace(t.comments.map((function(e){return new H(e)}))),this.root=r},H=function e(t){Object(k.a)(this,e),this._id="",this.message="",this.user=null,Object(I.d)(this),this._id=null===t||void 0===t?void 0:t.id,this.message=null===t||void 0===t?void 0:t.message,this.user=new X(null===t||void 0===t?void 0:t.user)},X=function e(t){Object(k.a)(this,e),this._id="",this.name="",this.profilePic="",Object(I.d)(this),this._id=null===t||void 0===t?void 0:t.id,this.name=null===t||void 0===t?void 0:t.name,this.profilePic=null===t||void 0===t?void 0:t.profilePic},F=function e(t){var r=this;Object(k.a)(this,e),this.feed=[],this.root=null,this.fetch=Object(a.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.root.HTTP("feed/get");case 2:t=e.sent,r.feed.replace(t.map((function(e){return new N(e)})));case 4:case"end":return e.stop()}}),e)}))),this.remove=function(){var e=Object(a.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.root.HTTP("feed/remove",{feed:t});case 2:r.feed.replace(r.feed.filter((function(e){return e._id!==t})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(I.d)(this),this.root=t},Z=function(){function e(t){var r=this;Object(k.a)(this,e),this.group=[],this.root=null,this.filteredGroups=function(e){return r.group.filter((function(t){return t.isGuidance===e&&!t.isAdmin}))},this.exists=function(e){return void 0!==r.group.find((function(t){return t._id===e}))},Object(I.d)(this),this.root=t}return Object(w.a)(e,[{key:"adminGroups",get:function(){return this.group.filter((function(e){return e.isAdmin}))}},{key:"selectedGroup",get:function(){var e=this;return"group"===this.root.uiStore.subSelected?this.group.find((function(t){return t._id===e.root.uiStore.selectedId})):null}}]),e}(),Q=function(){function e(t){Object(k.a)(this,e),this.members=new I.f.map,this.root=null,Object(I.d)(this),this.root=t}return Object(w.a)(e,[{key:"allMembers",get:function(){var e=[];return this.members.forEach((function(t){e.push(t)})),e}},{key:"otherMembers",get:function(){var e=this,t=[];return this.members.forEach((function(r){"admin"===e.root.uiStore.selectedRole?"class"!==e.root.uiStore.subSelected||e.root.adminStore.selectedClass.containsMember(r._id)?"group"===e.root.uiStore.subSelected&&(e.root.groupStore.exists(e.root.uiStore.selectedId)?e.root.groupStore.selectedGroup.containsMember(r._id)||t.push(r):e.root.adminStore.selectedGroup.containsMember(r._id)||t.push(r)):t.push(r):("class"!==e.root.uiStore.subSelected||e.root.classStore.selectedClass.containsMember(r._id))&&("group"!==e.root.uiStore.subSelected||e.root.groupStore.selectedGroup.containsMember(r._id))&&("direct"!==e.root.uiStore.subSelected||e.root.directStore.selectedDirect.containsMember(r._id))||t.push(r)})),t}},{key:"getMember",value:function(e){return Object(I.h)(this.members.get(e))}}]),e}(),_=function e(t){Object(k.a)(this,e),this._errors={1001:"Credentials Expired, Please sign in again.",1002:"Unauthorized, Please try again."},this.statusCode=0,this.errorCode="",this.message=0,Object(I.d)(this),this.statusCode=t.statusCode,this.errorCode=t.errorCode,500===this.statusCode?this.message=this._errors[this.errorCode]:this.message="Something went wrong, please try again later."},V=r(105),K=r.n(V),J="https://server.flathat.app/",q=J+"api/",$=["Sign In","Iniciar sesi\xf3n"],ee=["# Classes","# Clases"],te=["Search","Buscar"],re=["# Rooms","# Habitaciones"],ne=["# Counselor","# Consejero"],oe=["# Direct Messages","# Mensajes directos"],ie=["Announcements","Anuncios"],se=["Assignments","Asignaciones"],ce=["Teachers","Maestre"],le=["Teacher","Maestre"],ae=["Teaching Assistants","Ense\xf1ando Asistentes"],de=["Students","Estudiantes"],ue=["Guardians","Guardianes"],be=["Discussion Room","Sala de discusi\xf3n"],he=["Message","Mensaje"],je=["Public","P\xfablico"],me=["Private","Privado"],ge=["Set Reminder","Establecer recordatorio"],pe=["Discussion Room","Sala de Discusi\xf3n"],fe=function(){function e(t){var r=this;Object(k.a)(this,e),this.selected="",this.subSelected="",this.innerSelected="",this.innerSelectedId="",this.selectedId="",this.theme=localStorage.getItem("fl_theme")?localStorage.getItem("fl_theme"):"dark",this.modal="",this.selectedRole="",this.searchUser="",this.dependant="",this.history=null,this.root=null,this.switchTheme=function(){"light"===r.theme?r.theme="dark":r.theme="light",localStorage.setItem("fl_theme",r.theme)},this.removeMessage=function(){var e=Object(a.a)(l.a.mark((function e(t){var n,o,i,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,r.root.HTTP("class/remove-message",{messageId:t});case 3:if("class"!==r.subSelected){e.next=7;break}"announcement"===r.innerSelected?(n=r.root.classStore.selectedClass.announcements).replace(n.filter((function(e){return e._id!==t}))):"assignment"===r.innerSelected?(o=r.root.classStore.selectedClass.selectedAssignment).messages.replace(o.messages.filter((function(e){return e._id!==t}))):(i=r.root.classStore.selectedClass).messages.replace(i.messages.filter((function(e){return e._id!==t}))),e.next=18;break;case 7:if("group"!==r.subSelected){e.next=12;break}(s=r.root.groupStore.selectedGroup).messages.replace(s.messages.filter((function(e){return e._id!==t}))),e.next=18;break;case 12:if("direct"!==r.subSelected){e.next=17;break}(c=r.root.directStore.selectedDirect).messages.replace(c.messages.filter((function(e){return e._id!==t}))),e.next=18;break;case 17:return e.abrupt("return",[]);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.crud=function(){var e=Object(a.a)(l.a.mark((function e(t){var n,o,i,s,c,a,d,u,b,h,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.title,o=t.description,i=t.isPrivate,s=t.link,c=t.linkTitle,a=t.remove,d=t.daily,!r.modal.includes("create")){e.next=23;break}if(!r.modal.includes("class")){e.next=10;break}return e.next=5,r.root.HTTP("class/create-class",{title:n});case 5:(u=e.sent).members.map((function(e){r.root.memberStore.members.set(e._id,e)})),r.root.classStore.classes.push(new Y(u.class,r.root)),e.next=21;break;case 10:if(!r.modal.includes("group")){e.next=17;break}return e.next=13,r.root.HTTP("user/create-group",{title:n,description:o,isPrivate:i,isGuidance:!r.modal.includes("group")});case 13:b=e.sent,r.root.groupStore.group.push(new D(b,r.root)),e.next=21;break;case 17:return e.next=19,r.root.HTTP("assignment/create",{title:n,description:o,classId:r.selectedId,link:s,linkTitle:c});case 19:h=e.sent,r.root.classStore.selectedClass.assignments.push(new R(h,r.root));case 21:e.next=63;break;case 23:if(!r.modal.includes("edit")){e.next=63;break}if(!r.modal.includes("class")){e.next=31;break}return e.next=27,r.root.HTTP("class/edit-class",{title:n,classId:r.selectedId,dailyMessage:d});case 27:r.root.classStore.selectedClass.title=n,r.root.classStore.selectedClass.dailyMessage=d,e.next=63;break;case 31:if(!r.modal.includes("assignment")){e.next=52;break}if(a){e.next=42;break}return e.next=35,r.root.HTTP("assignment/update",{title:n,assignmentId:r.innerSelectedId,description:o,link:s,linkTitle:c});case 35:r.root.classStore.selectedClass.selectedAssignment.title=n,r.root.classStore.selectedClass.selectedAssignment.description=o,r.root.classStore.selectedClass.selectedAssignment.link=s,r.root.classStore.selectedClass.selectedAssignment.linkTitle=c,r.root.showToast(r.root.classStore.selectedClass.selectedAssignment.title+" successfully updated!","","success"),e.next=50;break;case 42:return e.next=44,r.root.HTTP("assignment/remove",{classId:r.selectedId,assignmentId:r.innerSelectedId});case 44:j=r.innerSelectedId,r.root.showToast(r.root.classStore.selectedClass.selectedAssignment.title+" successfully deleted!","","success"),r.innerSelected="",r.innerSelectedId="",r.history.push("/chat/class/".concat(r.selectedId)),r.root.classStore.selectedClass.assignments.replace(r.root.classStore.selectedClass.assignments.filter((function(e){return e._id!==j})));case 50:e.next=63;break;case 52:if(!a){e.next=58;break}return e.next=55,r.root.HTTP("user/remove-group",{groupId:r.selectedId});case 55:r.root.groupStore.group.replace(r.root.groupStore.group.filter((function(e){return e._id!==r.selectedId}))),e.next=63;break;case 58:return e.next=60,r.root.HTTP("user/edit-group",{groupId:r.selectedId,title:n,description:o,isPrivate:i,isGuidance:!r.modal.includes("group")});case 60:r.root.groupStore.selectedGroup.title=n,r.root.groupStore.selectedGroup.description=o,r.root.groupStore.selectedGroup.isPrivate=i;case 63:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addPeople=function(){var e=Object(a.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("direct"!==r.subSelected&&"group"!==r.subSelected){e.next=5;break}return e.next=3,r.root.HTTP("user/invite-users",{type:r.subSelected,typeId:r.selectedId,users:t});case 3:e.sent,"direct"===r.subSelected?t.map((function(e){r.root.directStore.selectedDirect.members.push(r.root.memberStore.getMember(e))})):t.map((function(e){r.root.groupStore.selectedGroup.members.push(r.root.memberStore.getMember(e))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addFeed=function(){var e=Object(a.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.root.HTTP("feed/create",t);case 2:n=e.sent,console.log(n),n.user||(n.user._id=r.root.selfUser._id,n.name=r.root.selfUser.name,n.profilePic=r.root.selfUser.profilePic),r.root.feedStore.feed.push(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(I.d)(this),this.root=t,this.selected=""}return Object(w.a)(e,[{key:"messages",get:function(){var e,t,r,n,o="admin"===this.selectedRole?this.root.adminStore.selectedClass:this.root.classStore.selectedClass;return e="admin"===this.selectedRole?this.root.groupStore.exists(this.selectedId)?this.root.groupStore.selectedGroup:this.root.adminStore.selectedGroup:this.root.groupStore.selectedGroup,"chat"===this.selected||"admin"===this.selected?"class"===this.subSelected?"announcement"===this.innerSelected?null===o||void 0===o?void 0:o.announcements:"assignment"===this.innerSelected?null===(t=o.selectedAssignment)||void 0===t?void 0:t.messages:null===o||void 0===o?void 0:o.messages:"group"===this.subSelected?null===(r=e)||void 0===r?void 0:r.messages:"direct"===this.subSelected?null===(n=this.root.directStore.selectedDirect)||void 0===n?void 0:n.messages:[]:[]}},{key:"searchUserDetail",get:function(){return this.root.memberStore.getMember(this.searchUser.userId)}},{key:"selectedTitle",get:function(){var e=this.root.t(he),t="admin"===this.selectedRole?this.root.adminStore.selectedClass:this.root.classStore.selectedClass,r="admin"===this.selectedRole?this.root.adminStore.selectedGroup:this.root.groupStore.selectedGroup;return"chat"!==this.selected&&"admin"!==this.selectedRole||("class"===this.subSelected?"announcement"===this.innerSelected?e+=" #"+this.root.t(ie):"assignment"===this.innerSelected?e+=" #"+t.selectedAssignment.title:e+=" #"+(null===t||void 0===t?void 0:t.title):"group"===this.subSelected?e+=" #"+(null===r||void 0===r?void 0:r.title):"direct"===this.subSelected&&(e+=this.root.directStore.selectedDirect.otherMemeberNames(50))),e}},{key:"scrollCSS",get:function(){return{"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{width:"6px"},"&::-webkit-scrollbar-thumb":{background:"dark"===this.theme?"#4d4d4d":"#d6d6d6",borderRadius:"24px"}}}}]),e}(),xe=r(252),Oe=r(251),ye=Object(Oe.a)({sm:"32em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"}),Se=Object(xe.a)({colors:{primary:{100:"#ff6a00",200:"#e85900"},blue:{100:"#4d84f1",200:"#3964b8"},green:{100:"#26ca4f"},red:{50:"#d05f5f",100:"#d64141"},gold:{100:"#eba41b"},secondary:{100:"#fafafa",150:"#f0f0f0",200:"#e8e8e8",300:"#d9d9d9"},input:{100:"#fafafa"},border:{50:"#e4e4e4",100:"#a1a1a1"},grey:{100:"#141414",200:"#313131",300:"#525252"}},sizes:{},components:{Button:{baseStyle:{_focus:{boxShadow:"none"}}}},shadows:{outline:"0 !important"},config:{useSystemColorMode:!1,initialColorMode:"light"},breakpoints:ye,fonts:{heading:"Raleway",body:"Raleway"}}),ve=Object(Oe.a)({sm:"32em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"}),Ce=Object(xe.a)({colors:{secondary:{100:"#2d2d2d",150:"#262626",200:"#212121",300:"#141414"},grey:{100:"#fafafa",200:"#c7c7c7",300:"#a3a3a3"},input:{100:"#474747"},border:{50:"#474747",100:"#555"},primary:{100:"#ff6a00",200:"#e85900"},blue:{100:"#4694ff",200:"#2367cc"},green:{100:"#00a300"},red:{50:"#d05f5f",100:"#d64141"},gold:{100:"#fee3ae"}},sizes:{},components:{Button:{baseStyle:{_focus:{boxShadow:"none"}}}},shadows:{outline:"0 !important"},config:{useSystemColorMode:!1,initialColorMode:"dark"},breakpoints:ve,fonts:{heading:"Raleway",body:"Raleway"}}),ke=function(){function e(t){var r=this;Object(k.a)(this,e),this.baseGroup=[],this.baseClass=[],this.groups=[],this.classes=[],this.root=null,this.existsClass=function(e){return void 0!==r.classes.find((function(t){return t._id===e}))},this.existsGroup=function(e){return void 0!==r.groups.find((function(t){return t._id===e}))},this.classById=function(e){return r.classes.find((function(t){return t._id===e}))},this.groupById=function(e){return r.groups.find((function(t){return t._id===e}))},Object(I.d)(this),this.root=t}return Object(w.a)(e,[{key:"selectedGroup",get:function(){var e=this;return"group"===this.root.uiStore.subSelected?this.groups.find((function(t){return t._id===e.root.uiStore.selectedId})):null}},{key:"selectedClass",get:function(){var e=this;return"class"===this.root.uiStore.subSelected?this.classes.find((function(t){return t._id===e.root.uiStore.selectedId})):null}}]),e}(),we=new(function(){function e(){var t=this;Object(k.a)(this,e),this.token="",this.userId="",this.classStore=null,this.directStore=null,this.groupStore=null,this.feedStore=null,this.memberStore=null,this.uiStore=null,this.adminStore=null,this.error=null,this.language="en",this.isLoggedIn=function(){var e;return null!==(null===t||void 0===t?void 0:t.token)&&(null===t||void 0===t||null===(e=t.token)||void 0===e?void 0:e.length)>0},this.login=function(){var e=Object(a.a)(l.a.mark((function e(r){var n,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.POST_NO_AUTH("account/login-google",{accessToken:r,role:"teacher"});case 2:return n=e.sent,o=n.token,t.token=o,localStorage.setItem("fl_tkn",o),e.next=8,t.fetch();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.fetch=Object(a.a)(l.a.mark((function e(){var r,n,o,i,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.HTTP("user/get",{},!1);case 2:(r=e.sent)?(n=r.comms,o=r.feed,i=r.userId,s=r.admin,Object.keys(n.members).map((function(e){t.memberStore.members.set(e,n.members[e])})),t.classStore.classes.replace(n.classes.map((function(e){return new Y(e,t)}))),t.groupStore.group.replace(n.groups.map((function(e){return new D(e,t)}))),t.directStore.direct.replace(n.direct.map((function(e){return new E(e,t)}))),t.feedStore.feed.replace(o.map((function(e){return new N(e,t)}))),t.adminStore.baseClass.replace(s.classes.map((function(e){return new G(e)}))),t.adminStore.baseGroup.replace(s.groups.map((function(e){return new G(e)}))),t.userId=i,localStorage.getItem("fl_role")?t.uiStore.selectedRole=localStorage.getItem("fl_role"):t.uiStore.selectedRole=t.selfUser.userRoles[0]):null===(c=t.uiStore.history)||void 0===c||c.push("/login");case 4:case"end":return e.stop()}}),e)}))),this.sendMessage=function(){var e=Object(a.a)(l.a.mark((function e(r){var n,o,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={_id:t.userId,msg:r},"class"===t.uiStore.subSelected?"announcement"===t.uiStore.innerSelected?(n.parentId=t.uiStore.selectedId,n.parentType="announcement"):"assignment"===t.uiStore.innerSelected?(n.parentId=t.uiStore.innerSelectedId,n.parentType="assignment"):(n.parentId=t.uiStore.selectedId,n.parentType="class"):"group"===t.uiStore.subSelected?(n.parentId=t.uiStore.selectedId,n.parentType="group"):"direct"===t.uiStore.subSelected&&(n.parentId=t.uiStore.selectedId,n.otherId=t.directStore.selectedDirect.otherMembers,n.parentType="direct"),e.next=4,t.HTTP("class/send-message",n);case 4:if(o=e.sent){e.next=7;break}return e.abrupt("return");case 7:i=new P(o.msg,t),"class"===n.parentType?t.classStore.selectedClass.messages.push(i):"direct"===n.parentType?t.directStore.exists(o.msg.parentId)?t.directStore.selectedDirect.messages.push(new P(o.msg,t)):(s=t.uiStore.selectedId,o.direct.messages=[o.msg],t.directStore.direct.push(new E(o.direct,t)),t.uiStore.selectedId=o.direct._id,t.uiStore.subSelected="direct",t.directStore.direct=t.directStore.direct.filter((function(e){return e._id!==s}))):"group"===n.parentType?t.groupStore.selectedGroup.messages.push(i):"assignment"===n.parentType?t.classStore.selectedClass.selectedAssignment.messages.push(i):"announcement"===n.parentType&&t.classStore.selectedClass.announcements.push(i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.t=function(e){return t?e["en"===t.language?0:1]:e[0]},this.HTTP=function(){var e=Object(a.a)(l.a.mark((function e(r){var n,o,i,s,c,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},o=!(a.length>2&&void 0!==a[2])||a[2],i=t._getHeaders()){e.next=5;break}return e.abrupt("return");case 5:if(s={},e.prev=6,!o){e.next=13;break}return e.next=10,K.a.post(q+r,n,i);case 10:s=e.sent,e.next=16;break;case 13:return e.next=15,K.a.get(q+r,i);case 15:s=e.sent;case 16:return e.abrupt("return",null===(c=s)||void 0===c?void 0:c.data);case 19:return e.prev=19,e.t0=e.catch(6),t._handleError(e.t0),e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}(),this.POST_NO_AUTH=function(){var e=Object(a.a)(l.a.mark((function e(r,n){var o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={headers:{"Content-Type":"application/json"}},e.next=3,K.a.post(J+r,n,o).catch(t._handleError);case 3:return i=e.sent,e.abrupt("return",null===i||void 0===i?void 0:i.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this._handleError=function(e){var r,n;500===(null===(r=e.response)||void 0===r?void 0:r.status)?(console.log(e.response),t.error=new _({statusCode:e.response.status,errorCode:e.response.data}),console.error(null===(n=e.response)||void 0===n?void 0:n.data),1001===t.error.errorCode&&(t.token="",localStorage.removeItem("fl_tkn"))):(t.error=new _({statusCode:400,errorCode:0,message:"Something went wrong, please try again."}),console.error(e));Object(u.a)({theme:"light"===t.uiStore.theme?Se:Ce})({title:t.error.message,status:"error",duration:5e3,isClosable:!0})},this.showToast=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=Object(u.a)({theme:"light"===t.uiStore.theme?Se:Ce});s({title:e,description:r,status:n,duration:o,isClosable:i})},this._getHeaders=function(){return t.isLoggedIn()?{headers:{Authorization:"Bearer ".concat(t.token),"Content-Type":"application/json"}}:null},Object(I.d)(this),this.memberStore=new Q(this),this.classStore=new U(this),this.groupStore=new Z(this),this.directStore=new B(this),this.feedStore=new F(this),this.uiStore=new fe(this),this.adminStore=new ke(this),this.language=localStorage.getItem("lng")}return Object(w.a)(e,[{key:"selfUser",get:function(){var e;return this.isLoggedIn()?null===(e=this.memberStore)||void 0===e?void 0:e.getMember(this.userId):null}}]),e}()),Ie=Object(n.createContext)(we),ze=function(){return Object(n.useContext)(Ie)},Ae=r(60),Me=r(2),Te=Object(p.a)((function(){var e=ze(),t=e.uiStore,r=(e.t,ze()),o=Object(n.useState)([]),i=Object(d.a)(o,2),s=i[0],c=i[1];function u(e){var r=t.searchUser.all[e];return r?"class"===r.type?Object(Me.jsx)(h,{title:r.title,subtitle:"in the class",type:"class"}):"group"===r.type?Object(Me.jsx)(h,{title:r.title,subtitle:"in a group",type:"group"}):Object(Me.jsx)(h,{profilePic:r.profilePic,title:r.title,subtitle:"direct message to"}):null}Object(n.useEffect)((function(){var e,n,o,i=Object(I.h)(t.searchUser.filters),s=[];null===i||void 0===i||null===(e=i.classes)||void 0===e||e.forEach((function(e){s.push(e._id)})),null===i||void 0===i||null===(n=i.groups)||void 0===n||n.forEach((function(e){s.push(e._id)})),null===i||void 0===i||null===(o=i.direct)||void 0===o||o.forEach((function(e){s.push(e.direct)})),Object(a.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.HTTP("admin/search-user",{filters:i,userId:t.searchUser.userId});case 2:n=(n=e.sent).sort((function(e,t){return e.createdAt-t.createdAt})),c(n);case 5:case"end":return e.stop()}}),e)})))()}),[t.searchUser]);var h=function(e){var t=e.profilePic,r=e.title,n=e.subtitle,o=e.type;return Object(Me.jsxs)(b.a,{align:"center",bg:"secondary.200",rounded:"full",px:2,py:"1px",children:[Object(Me.jsx)(j.a,{color:"grey.300",fontSize:"sm",children:n}),Object(Me.jsx)(y.a,{as:Ae.a,boxSize:"12px",color:"blue.100",mx:3}),t?Object(Me.jsx)(S.a,{src:t,boxSize:"16px",mx:1}):"class"===o?Object(Me.jsx)(v.b,{boxSize:3,mx:1,bg:"green.100"}):Object(Me.jsx)(j.a,{mx:1,color:"primary.100",children:"#"}),Object(Me.jsx)(j.a,{color:"primary.100",fontSize:"sm",children:r})]})};return Object(Me.jsxs)(b.a,{direction:"column",flex:1,children:[Object(Me.jsx)(b.a,{p:5,bg:"secondary.100",borderBottomColor:"border.50",borderBottomWidth:"1px",align:"center",children:Object(Me.jsxs)(b.a,{align:"center",children:[Object(Me.jsx)(j.a,{color:"grey.300",fontWeight:"normal",children:"Search result for"}),Object(Me.jsx)(S.a,{src:t.searchUserDetail.profilePic,mx:2,ml:4,size:"sm"}),Object(Me.jsx)(j.a,{color:"grey.100",fontSize:"xl",fontWeight:"semibold",children:t.searchUserDetail.name})]})}),Object(Me.jsx)(b.a,{direction:"column",flex:1,overflowY:"auto",css:t.scrollCSS,mr:1,children:s.map((function(e,r){var n,o,i,c=function(e){var t=s[e],r=new Date(t.createdAt),n=r.toLocaleDateString("en-us",{weekday:"long",month:"long",day:"numeric"}),o=new Date;if(e>0){var i=s[e-1],c=new Date(i.createdAt);return r.getDate()===c.getDate()?null:l()}return l();function l(){return r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()&&r.getDate()===o.getDate()?"Today":r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()&&o.getDate()-r.getDate()===1?"Yesterday":n}}(r);return Object(Me.jsxs)(b.a,{direction:"column",children:[c&&Object(Me.jsxs)(b.a,{justify:"center",align:"center",bg:"secondary.100",children:[Object(Me.jsx)(C.a,{bg:"border.50",h:"1px",flex:1}),Object(Me.jsx)(j.a,{fontSize:"xs",px:2,py:"2px",color:"grey.100",children:c}),Object(Me.jsx)(C.a,{bg:"border.50",h:"1px",flex:1})]}),Object(Me.jsxs)(b.a,{direction:"row",_hover:{bg:"border.50"},p:6,py:3,children:[Object(Me.jsx)(S.a,{src:null===(n=t.searchUserDetail)||void 0===n?void 0:n.profilePic,name:null===(o=t.searchUserDetail)||void 0===o?void 0:o.name,boxSize:10,mr:3,children:Object(Me.jsx)(S.b,{boxSize:2,bg:"green.100",borderColor:"transparent",mr:"2px",mb:"2px"})}),Object(Me.jsxs)(b.a,{direction:"column",children:[Object(Me.jsxs)(b.a,{align:"center",children:[Object(Me.jsx)(j.a,{color:"grey.100",fontWeight:"semibold",fontSize:"sm",children:null===(i=t.searchUserDetail)||void 0===i?void 0:i.name}),Object(Me.jsx)(j.a,{color:"grey.300",fontSize:"xs",ml:3,children:new Intl.DateTimeFormat("en",{hour12:!0,hour:"numeric",minute:"2-digit"}).format(new Date(e.createdAt))}),Object(Me.jsx)(b.a,{align:"center",ml:3,rounded:"lg",px:1,children:u(e.parentId)})]}),Object(Me.jsx)(j.a,{color:"grey.200",pt:1,fontSize:"sm",fontWeight:"medium",children:e.msg})]})]})]})}))})]})})),Pe=r(143),We=r(64),Re=r(17),Le=Object(p.a)((function(e){var t=e.item,r=e.guardian,n=void 0!==r&&r,o=e.history,i=ze(),s=ze();s.t,s.uiStore,i.classStore.selectedClass;return Object(Me.jsxs)(b.a,{px:5,color:"grey.300",fontSize:"sm",py:2,align:"center",cursor:"pointer",borderRightWidth:2,borderLeftWidth:2,borderRightColor:"transparent",borderLeftColor:"transparent",bg:"secondary.100",_hover:{borderRightColor:"blue.100",borderLeftColor:"blue.100",bg:"secondary.150"},onClick:function(){n||i.userId===(null===t||void 0===t?void 0:t._id)||(i.directStore.addTempUser(null===t||void 0===t?void 0:t._id),i.uiStore.innerSelected="",i.uiStore.innerSelectedId="",i.uiStore.subSelected="direct",i.uiStore.selectedId=null===t||void 0===t?void 0:t._id,o.push("/chat/direct/"))},children:[n?Object(Me.jsx)(S.a,{name:null===t||void 0===t?void 0:t.guardian,size:"sm"}):Object(Me.jsx)(S.a,{src:null===t||void 0===t?void 0:t.profilePic,size:"sm"}),Object(Me.jsx)(j.a,{flex:1,ml:3,children:n?null===t||void 0===t?void 0:t.guardian:null===t||void 0===t?void 0:t.name}),Object(Me.jsx)(v.b,{boxSize:2,bg:"green.100"})]},null===t||void 0===t?void 0:t._id)})),Ee=Object(p.a)((function(e){var t,r,n,o,i,s,c,l=e.history,a=e.location,d=ze(),u=ze(),h=u.t,m=u.uiStore,g=null;g="admin"!==m.selectedRole?d.classStore.selectedClass:d.adminStore.selectedClass;var f=Object(p.a)((function(e){var t,r=e.title;return Object(Me.jsxs)(b.a,{py:2,px:5,align:"center",fontWeight:"announcement"===m.innerSelected?"bold":"semibold",color:"announcement"===m.innerSelected?"primary.100":"grey.300",borderRightWidth:2,borderLeftWidth:2,borderRightColor:"transparent",borderLeftColor:"transparent",bg:"secondary.100",_hover:{borderRightColor:"primary.100",borderLeftColor:"primary.100",bg:"secondary.150"},cursor:"pointer",onClick:function(){if("announcement"!==d.uiStore.innerSelected){d.uiStore.innerSelected="announcement",d.uiStore.innerSelectedId="";var e=a.pathname.split("/")[3];l.push("/chat/class/".concat(e,"/announcement"))}},children:[Object(Me.jsx)(j.a,{flex:1,children:r||h(ie)}),Object(Me.jsx)(j.a,{opacity:.5,children:null===(t=g)||void 0===t?void 0:t.announcements.length})]})})),x=Object(p.a)((function(e){var t,r=e.title;return Object(Me.jsxs)(b.a,{mt:3,py:2,px:5,align:"center",fontWeight:""===m.innerSelected?"bold":"semibold",color:""===m.innerSelected?"primary.100":"grey.300",borderRightWidth:2,borderLeftWidth:2,borderRightColor:"transparent",borderLeftColor:"transparent",bg:"secondary.100",_hover:{borderRightColor:"primary.100",borderLeftColor:"primary.100",bg:"secondary.150"},cursor:"pointer",onClick:function(){if(""!==d.uiStore.innerSelected){d.uiStore.innerSelected="",d.uiStore.innerSelectedId="";var e=a.pathname.split("/")[3];l.push("/chat/class/".concat(e))}},children:[Object(Me.jsx)(j.a,{flex:1,children:r||h(pe)}),Object(Me.jsx)(j.a,{opacity:.5,children:null===(t=g)||void 0===t?void 0:t.messages.length})]})}));return Object(Me.jsxs)(b.a,{direction:"column",minW:300,bg:"secondary.100",boxShadow:"2xl",children:[Object(Me.jsxs)(b.a,{mb:2,pt:2,align:"center",borderBottomWidth:"1px",borderBottomColor:"border.50",children:[Object(Me.jsxs)(b.a,{direction:"column",flex:1,pb:2,children:[Object(Me.jsx)(j.a,{color:"grey.100",pb:"1px",fontWeight:"semibold",fontSize:"lg",borderLeftWidth:4,borderLeftColor:"primary.100",px:5,children:null===(t=g)||void 0===t?void 0:t.title}),Object(Me.jsx)(j.a,{color:"grey.300",fontSize:"xs",mt:2,px:5,children:"MWF 4:30 PM - 5:30 PM"})]}),Object(Me.jsx)(y.a,{as:Re.c,color:"grey.200",cursor:"pointer",_hover:{color:"primary.100"},mr:5,onClick:function(){return m.modal="edit_class"}})]}),Object(Me.jsxs)(b.a,{direction:"column",overflowY:"auto",css:m.scrollCSS,mr:"3px",children:[Object(Me.jsx)(x,{title:"Discussion Room"}),Object(Me.jsx)(f,{}),Object(Me.jsxs)(b.a,{direction:"column",py:3,children:[Object(Me.jsxs)(b.a,{align:"center",pb:3,children:[Object(Me.jsx)(j.a,{flex:1,fontWeight:"semibold",color:"grey.300",px:5,children:h(se)}),"teacher"===m.selectedRole&&Object(Me.jsx)(Pe.b,{boxSize:3,bg:"secondary.300",p:3,rounded:"full",mr:4,cursor:"pointer",_hover:{color:"primary.100"},onClick:function(){m.modal="create_assignment"},children:Object(Me.jsx)(y.a,{as:Re.a})})]}),null===(r=g)||void 0===r||null===(n=r.assignments)||void 0===n?void 0:n.map((function(e){return Object(Me.jsxs)(b.a,{px:5,fontSize:"sm",py:2,align:"center",cursor:"pointer",borderRightWidth:2,borderLeftWidth:2,borderRightColor:"transparent",borderLeftColor:"transparent",fontWeight:m.innerSelectedId===e._id?"bold":"semibold",color:m.innerSelectedId===e._id?"blue.100":"grey.300",bg:"secondary.100",_hover:{borderRightColor:"blue.100",borderLeftColor:"blue.100",bg:"secondary.150"},onClick:function(){if(d.uiStore.innerSelectedId!==e._id){d.uiStore.innerSelected="assignment",d.uiStore.innerSelectedId=e._id;var t=a.pathname.split("/")[3];l.push("/chat/class/".concat(t,"/assignment/").concat(e._id))}},children:[Object(Me.jsx)(y.a,{as:We.a,mr:3,mb:"2px"}),Object(Me.jsx)(j.a,{flex:1,children:e.title}),Object(Me.jsx)(j.a,{children:"0"})]},e._id)}))]}),Object(Me.jsxs)(b.a,{direction:"column",py:3,children:[Object(Me.jsx)(j.a,{fontWeight:"semibold",color:"grey.300",px:5,pb:3,children:h(ce)}),null===(o=g)||void 0===o?void 0:o.teachers.map((function(e){return Object(Me.jsx)(Le,{item:e,history:l})}))]}),"guardian"!==m.selectedRole&&Object(Me.jsxs)(b.a,{direction:"column",py:3,children:[Object(Me.jsx)(j.a,{fontWeight:"semibold",color:"grey.300",px:5,pb:3,children:h(ae)}),null===(i=g)||void 0===i?void 0:i.teachingAssistants.map((function(e){return Object(Me.jsx)(Le,{item:e,history:l})}))]}),"guardian"!==m.selectedRole&&Object(Me.jsxs)(b.a,{direction:"column",py:3,children:[Object(Me.jsx)(j.a,{fontWeight:"semibold",color:"grey.300",px:5,pb:3,children:h(de)}),null===(s=g)||void 0===s?void 0:s.students.map((function(e){return Object(Me.jsx)(Le,{item:e,history:l})}))]}),"guardian"!==m.selectedRole&&Object(Me.jsxs)(b.a,{direction:"column",py:3,children:[Object(Me.jsx)(j.a,{fontWeight:"semibold",color:"grey.300",px:5,pb:3,children:h(ue)}),null===(c=g)||void 0===c?void 0:c.guardians.map((function(e){return Object(Me.jsx)(Le,{item:e,guardian:!0,history:l})}))]})]})]})})),De=r(156),Ye=r(263),Ge=r(144),Ue=r(89),Be=r(164),Ne=r(118),He=r(256),Xe=r(261),Fe=r(253),Ze=Object(p.a)((function(e){var t=e.icon,r=e.title,n=e.onClose;return Object(Me.jsx)(Xe.e,{bg:"primary.100",p:4,children:Object(Me.jsxs)(b.a,{direction:"horizontal",align:"center",children:[Object(Me.jsx)(v.b,{p:2,mr:2,bg:"primary.200",children:Object(Me.jsx)(y.a,{as:t,color:"white"})}),Object(Me.jsx)(j.a,{color:"white",flex:1,children:r}),Object(Me.jsx)(Fe.a,{bg:"primary.200",color:"white",onClick:n})]})})})),Qe=Object(p.a)((function(){var e=Object(He.a)(),t=(e.isOpen,e.onOpen,e.onClose),r=ze(),o=r.uiStore,i=(r.memberStore,r.selfUser),s=Object(n.useState)(""),c=Object(d.a)(s,2),l=c[0],a=c[1],u=Object(n.useState)(""),h=Object(d.a)(u,2),m=h[0],g=h[1],p=Object(n.useState)(null),f=Object(d.a)(p,2),x=f[0],O=f[1],y=Object(n.useRef)(null),S=Object(n.useState)(""),v=Object(d.a)(S,2),C=v[0],k=v[1],w=Object(n.useState)(""),I=Object(d.a)(w,2),z=(I[0],I[1]);return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)("input",{type:"file",id:"file",ref:y,style:{display:"none"},onChange:function(e){e.target.files.length>0&&(k(e.target.files[0].name),z(URL.createObjectURL(e.target.files[0])),O(e.target.files[0]))}}),Object(Me.jsx)(Xe.a,{isOpen:o.modal&&"feed"===o.modal,onClose:function(){t(),o.modal=""},size:"2xl",children:Object(Me.jsxs)(Xe.c,{bg:"secondary.100",color:"grey.100",overflow:"hidden",children:[Object(Me.jsx)(Ze,{title:"Create Post",icon:Re.f,onClose:function(){o.modal="",t()}}),Object(Me.jsxs)(Xe.b,{bg:"secondary.200",children:[Object(Me.jsx)(Ge.a,{mt:4,bg:"secondary.100",value:l,onChange:function(e){return a(e.target.value)},placeholder:"Write the title of your post...",_placeholder:{color:"grey.300",opacity:.5},color:"grey.100",focusBorderColor:"primary.100"}),Object(Me.jsx)(Ge.a,{mt:4,bg:"secondary.100",value:m,onChange:function(e){return g(e.target.value)},placeholder:"Describe your post...",_placeholder:{color:"grey.300",opacity:.5},color:"grey.100",focusBorderColor:"primary.100"}),Object(Me.jsxs)(b.a,{direction:"column",mt:4,children:[Object(Me.jsx)(j.a,{color:"grey.300",my:2,children:C}),Object(Me.jsx)(b.a,{children:Object(Me.jsx)(Ue.a,{color:"grey.100",bg:"secondary.300",_hover:{color:"primary.100",bg:"transparent"},onClick:function(){y.current.click()},children:"Upload an Image"})})]})]}),Object(Me.jsx)(Xe.d,{p:3,bg:"secondary.200",children:Object(Me.jsx)(Ue.a,{color:"grey.100",bg:"secondary.300",_hover:{color:"primary.100",bg:"transparent"},mr:3,onClick:function(){t();var e=new FormData;e.append("file",x),e.append("data",JSON.stringify({title:l,description:m,allowComments:!0,_id:i._id,schoolId:i.schoolId})),o.addFeed(e),o.modal=""},children:"Create"})})]})})]})})),_e=Object(p.a)((function(e){e.history,ze().t;var t=ze(),r=Object(u.b)();function o(e,t){return e.length>t?"".concat(e.substring(0,t),"..."):e}var i=Object(p.a)((function(e){var i,s,c=e.data,l=Object(n.useState)(!1),a=Object(d.a)(l,2),u=a[0],m=a[1],g=Object(n.useState)(""),p=Object(d.a)(g,2),f=p[0],x=p[1];return Object(Me.jsxs)(b.a,{w:"650px",bg:"secondary.200",rounded:5,overflow:"hidden",border:"1px",borderColor:"secondary.300",boxShadow:"base",mt:4,mb:4,flexShrink:0,children:[Object(Me.jsxs)(b.a,{flex:1,direction:"column",children:[Object(Me.jsxs)(b.a,{align:"center",m:2,children:[Object(Me.jsx)(S.a,{src:null===(i=c.user)||void 0===i?void 0:i.profilePic,size:"xs"}),Object(Me.jsxs)(j.a,{flex:1,fontSize:"sm",color:"grey.200",ml:2,children:["Posted by ",null===(s=c.user)||void 0===s?void 0:s.name]}),Object(Me.jsx)(y.a,{as:Be.a,mr:3,color:"blue.100"}),Object(Me.jsx)(y.a,{as:Re.b,color:"red.100",boxSize:"20px",cursor:"pointer",onClick:function(){t.feedStore.remove(c._id),r({title:"Post Removed.",description:"Post by ".concat(c.user.name," was deleted."),status:"success",duration:5e3,isClosable:!0})}})]}),Object(Me.jsx)(C.a,{bg:"border.50"}),Object(Me.jsx)(j.a,{m:3,my:4,fontSize:"lg",fontWeight:"semibold",color:"grey.100",children:c.title}),Object(Me.jsx)(j.a,{m:3,mt:0,color:"grey.100",children:o(c.description,400)}),c.image&&Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)(h.a,{src:"https://vc-static-server.nyc3.digitaloceanspaces.com/flathat-feed/"+c._id,onLoad:function(){return m(!0)}}),!u&&Object(Me.jsxs)(De.b,{children:[Object(Me.jsx)(Ye.a,{height:"20px"}),Object(Me.jsx)(Ye.a,{height:"20px"}),Object(Me.jsx)(Ye.a,{height:"20px"}),Object(Me.jsx)(Ye.a,{height:"20px"}),Object(Me.jsx)(Ye.a,{height:"20px"}),Object(Me.jsx)(Ye.a,{height:"20px"})]})]}),Object(Me.jsx)(C.a,{bg:"border.100"}),Object(Me.jsxs)(b.a,{m:3,direction:"column",children:[Object(Me.jsx)(b.a,{align:"center",children:Object(Me.jsx)(j.a,{color:"blue.100",fontSize:"sm",cursor:"pointer",fontWeight:"semibold",children:c.comments.length>0?c.comments.length+" comments":"No comments"})}),Object(Me.jsx)(b.a,{mt:2,direction:"column",children:c.comments.slice(Math.max(c.comments.length-2,0)).map((function(e){var t,r;return Object(Me.jsxs)(b.a,{align:"center",my:1,color:"grey.100",children:[Object(Me.jsx)(S.a,{src:null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.profilePic,size:"2xs"}),Object(Me.jsx)(j.a,{ml:2,fontSize:"sm",children:null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.name}),Object(Me.jsx)(j.a,{ml:2,fontSize:"sm",color:"grey.300",children:o(null===e||void 0===e?void 0:e.message,50)})]},e._id)}))})]}),Object(Me.jsx)(b.a,{m:3,mt:0,direction:"column",children:Object(Me.jsx)(Ge.a,{value:f,placeholder:"Say something...",bg:"secondary.100",focusBorderColor:"primary.100",onChange:function(e){return x(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&f.length>0&&x("")}})})]}),Object(Me.jsxs)(b.a,{direction:"column",bg:"secondary.300",align:"center",justify:"center",p:3,color:"grey.100",children:[Object(Me.jsx)(y.a,{as:Ne.b}),Object(Me.jsx)(j.a,{children:"495"}),Object(Me.jsx)(y.a,{as:Ne.a})]})]},c._id)}));return Object(Me.jsxs)(b.a,{flex:1,direction:"column",children:[Object(Me.jsxs)(b.a,{p:5,bg:"secondary.200",children:[Object(Me.jsx)(j.a,{color:"grey.100",fontWeight:"semibold",fontSize:"xl",flex:1,children:"Flathat High News"}),Object(Me.jsx)(Ue.a,{size:"sm",bg:"primary.100",color:"white",_hover:{color:"primary.100",bg:"transparent"},onClick:function(){t.uiStore.modal="feed"},children:"Create Post"})]},"1"),Object(Me.jsx)(b.a,{direction:"column",align:"center",overflowY:"auto",css:t.uiStore.scrollCSS,children:t.feedStore.feed.map((function(e){return Object(Me.jsx)(i,{data:e})}))},"2"),Object(Me.jsx)(Qe,{})]})})),Ve=r(151),Ke=r(149),Je=r(150),qe=r(146),$e=r(68),et=r(166),tt=r(76),rt=r(102),nt=Object(p.a)((function(){var e=Object(He.a)(),t=(e.isOpen,e.onOpen,e.onClose),r=ze(),i=r.uiStore,s=r.memberStore,c=ze(),l=Object(n.useState)([]),a=Object(d.a)(l,2),u=a[0],h=a[1],m=o.a.useState(),g=Object(d.a)(m,2),p=g[0],f=g[1];Object(n.useEffect)((function(){f(s.otherMembers.map((function(e){return{value:e._id,label:e.name}}))),h([])}),[]);return Object(Me.jsx)(Me.Fragment,{children:Object(Me.jsx)(Xe.a,{isOpen:i.modal&&("invite"===i.modal||"direct"===i.modal),onClose:function(){t(),i.modal=""},size:"2xl",children:Object(Me.jsxs)(Xe.c,{bg:"secondary.100",color:"grey.100",overflow:"hidden",children:[Object(Me.jsx)(Ze,{title:"direct"===i.modal?"Direct message":"Add more people",icon:Re.f,onClose:function(){i.modal="",t()}}),Object(Me.jsx)(Xe.b,{bg:"secondary.200",children:Object(Me.jsx)(rt.CUIAutoComplete,{inputStyleProps:{bg:"secondary.100",focusBorderColor:"primary.100",fontWeight:"semibold",_placeholder:{color:"grey.300",fontWeight:"normal"}},tagStyleProps:{bg:"primary.100",color:"white",h:6},disableCreateItem:!0,itemRenderer:function(e){return Object(Me.jsxs)(b.a,{flexDir:"row",alignItems:"center",py:2,children:[Object(Me.jsx)(S.a,{mr:2,size:"sm",src:s.getMember(e.value).profilePic}),Object(Me.jsx)(j.a,{children:e.label})]})},placeholder:"Start typing a name",items:p,listItemStyleProps:{py:0,my:0},hideToggleButton:!0,highlightItemBg:"primary.100",listStyleProps:{maxH:220,overflowY:"scroll",bg:"secondary.100"},selectedItems:u,onSelectedItemsChange:function(e){return function(e){e&&h(e)}(e.selectedItems)}})}),Object(Me.jsx)(Xe.d,{p:3,bg:"secondary.200",children:Object(Me.jsx)(Ue.a,{color:"grey.100",bg:"secondary.300",_hover:{color:"primary.100",bg:"transparent"},mr:3,onClick:function(){var e,r;(t(),"direct"===i.modal)?(c.directStore.addTempUser(null===(e=u[0])||void 0===e?void 0:e.value),c.uiStore.innerSelected="",c.uiStore.innerSelectedId="",c.uiStore.subSelected="direct",c.uiStore.selectedId=null===(r=u[0])||void 0===r?void 0:r.value,c.uiStore.history.push("/chat/direct/")):i.addPeople(u.map((function(e){return e.value})));i.modal=""},children:"direct"===i.modal?"Message":"Add"})})]})})})})),ot=Object(p.a)((function(){var e=ze().uiStore,t=ze(),r=null;"admin"===e.selectedRole?"class"===e.subSelected?r=t.adminStore.selectedClass:"group"===e.subSelected&&(r=t.groupStore.exists(e.selectedId)?t.groupStore.selectedGroup:t.adminStore.selectedGroup):"class"===e.subSelected?r=t.classStore.selectedClass:"group"===e.subSelected&&(r=t.groupStore.selectedGroup);var n=function(e){var t=e.children;return Object(Me.jsx)(b.a,{direction:"column",color:"grey.100",p:8,py:12,borderBottomWidth:"1px",borderColor:"border.50",boxShadow:"inner",children:t})};return Object(Me.jsx)(b.a,{flex:1,direction:"column",children:"chat"!==e.selected?null:"class"===e.subSelected?"announcement"===e.innerSelected?Object(Me.jsx)(n,{children:Object(Me.jsxs)(j.a,{fontWeight:"semibold",children:["This the very beginning of"," ",Object(Me.jsxs)(j.a,{as:"span",color:"blue.100",cursor:"pointer",children:["# ",r.title]})," ","announcements"]})}):"assignment"===e.innerSelected?Object(Me.jsxs)(n,{children:[Object(Me.jsxs)(j.a,{fontWeight:"semibold",children:["This the very beginning of"," ",Object(Me.jsxs)(j.a,{as:"span",color:"blue.100",cursor:"pointer",children:["# ",r.selectedAssignment.title]})," ","discussion"]}),Object(Me.jsx)(j.a,{color:"grey.300",fontSize:"sm",children:"if you have any questions you can ask here"})]}):Object(Me.jsxs)(n,{children:[Object(Me.jsxs)(j.a,{fontWeight:"semibold",children:["This the very beginning of"," ",Object(Me.jsxs)(j.a,{as:"span",color:"blue.100",cursor:"pointer",children:["# ",r.title]})," ","discussion"]}),Object(Me.jsx)(j.a,{color:"grey.300",fontSize:"sm",children:"if you have any questions you can ask here"})]}):"group"===e.subSelected?Object(Me.jsxs)(n,{children:[Object(Me.jsxs)(j.a,{fontWeight:"semibold",children:["This the very beginning of"," ",Object(Me.jsxs)(j.a,{as:"span",color:"blue.100",cursor:"pointer",children:["# ",r.title]})," ","room"]}),r.description&&Object(Me.jsxs)(j.a,{fontSize:"sm",my:2,mb:8,children:["Description: ",r.description]}),Object(Me.jsx)(j.a,{color:"grey.300",fontSize:"sm",children:"Please note that all messages are monitored"})]}):"direct"===e.subSelected?Object(Me.jsxs)(n,{children:[Object(Me.jsx)(j.a,{fontWeight:"semibold",children:"This is the beginning of the conversation"}),Object(Me.jsx)(j.a,{fontSize:"sm",color:"grey.300",children:"Please note that all messages are monitored"})]}):void 0})})),it=Object(p.a)((function(e,t){var r=ze(),o=ze(),i=o.uiStore,s=o.t,c=o.sendMessage,l=o.groupStore,a=Object(n.useState)(""),u=Object(d.a)(a,2),h=(u[0],u[1],Object(p.a)((function(e){var t=e.children,r=e.p,n=void 0===r?5:r;return Object(Me.jsx)(b.a,{p:n,bg:"secondary.100",borderBottomColor:"border.50",borderBottomWidth:"1px",align:"center",children:t})}))),m=Object(p.a)((function(e){var t=e.title,r=e.subtitle,n=e.icon,o=e.color,i=e.click;return Object(Me.jsxs)(b.a,{align:"center",onClick:i,children:[Object(Me.jsx)(j.a,{color:"grey.100",fontSize:"xl",fontWeight:"semibold",cursor:i?"pointer":"no-drop",children:t}),Object(Me.jsx)(y.a,{as:n,ml:4,color:o||"blue.100"}),Object(Me.jsx)(j.a,{ml:1,fontWeight:"normal",color:"grey.300",fontSize:"sm",children:r})]})})),g=Object(p.a)((function(e){var t=e.quote;return Object(Me.jsxs)(b.a,{children:[Object(Me.jsx)(j.a,{color:"primary.100",fontWeight:"semibold",mr:2,children:t}),Object(Me.jsx)(y.a,{as:Ae.e,boxSize:5,color:"primary.200"})]})})),f=function(e){var t=e.click,r=e.icon,n=e.iconSize,o=void 0===n?4:n,i=e.color,s=e.textColor,c=e.title,l=e.mx;return Object(Me.jsxs)(b.a,{align:"center",cursor:"pointer",borderColor:"transparent",_hover:{borderColor:"border.50"},borderWidth:"1px",p:1,px:2,mx:l||3,rounded:"full",onClick:t,children:[Object(Me.jsx)(y.a,{as:r,color:i,mr:1,boxSize:o}),Object(Me.jsx)(j.a,{color:s||"grey.300",fontSize:"sm",fontWeight:"semibold",children:c})]})},x=Object(p.a)((function(){var e=r.classStore.selectedClass.selectedAssignment;return Object(Me.jsxs)(b.a,{p:"11px",pl:5,pr:0,bg:"secondary.100",borderBottomColor:"border.50",borderBottomWidth:"1px",align:"center",children:[Object(Me.jsxs)(b.a,{direction:"column",flex:1,children:[Object(Me.jsxs)(b.a,{align:"center",children:[Object(Me.jsx)(j.a,{color:"grey.100",fontSize:"xl",fontWeight:"semibold",onClick:function(){i.modal="edit_assignment"},cursor:"pointer",children:e.title}),Object(Me.jsx)(y.a,{as:We.a,ml:4,color:"blue.100"}),Object(Me.jsx)(j.a,{as:"span",ml:1,fontWeight:"normal",color:"grey.300",fontSize:"sm",children:"Assignemnt"})]}),Object(Me.jsx)(j.a,{color:"grey.300",fontSize:"xs",fontWeight:"medium",children:e.description})]}),Object(Me.jsx)(v.a,{display:["none",null,null,null,"block"],children:Object(Me.jsx)(I,{})}),e.link&&Object(Me.jsx)(f,{title:e.linkTitle,icon:We.b,iconSize:3,color:"primary.100",textColor:"primary.100",click:function(){return window.open(e.link,"_blank").focus()}}),Object(Me.jsxs)(b.a,{direction:"column",textAlign:"right",borderLeftWidth:"1px",borderRightWidth:"1px",borderColor:"border.50",px:5,display:["none",null,null,"flex"],children:[Object(Me.jsxs)(b.a,{align:"center",children:[Object(Me.jsx)(y.a,{as:Re.d,mr:1,boxSize:4,color:"red.100"}),Object(Me.jsx)(j.a,{color:"red.100",fontWeight:"bold",fontSize:"xs",children:"Due In"})]}),Object(Me.jsx)(j.a,{color:"grey.300",fontWeight:"bold",children:"2 Days"})]}),Object(Me.jsx)(v.a,{display:["none",null,null,null,"block"],children:Object(Me.jsx)(f,{title:s(ge),icon:Re.h,iconSize:5,color:"green.100",click:null})})]})})),O=function(e){var t=e.title,r=e.icon;return Object(Me.jsxs)(b.a,{align:"center",ml:3,rounded:"lg",px:1,children:[Object(Me.jsx)(y.a,{as:r,boxSize:3,mr:1,color:"blue.100"}),Object(Me.jsx)(j.a,{color:"blue.200",fontWeight:"semibold",fontSize:"xs",children:t})]})};var k=Object(p.a)((function(){var e=Object(n.useRef)(null);return Object(n.useEffect)((function(){var t;null===e||void 0===e||null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"auto"})}),[]),Object(n.useEffect)((function(){var t;null===e||void 0===e||null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})})),Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsxs)(b.a,{direction:"column",flex:1,justify:"flex-end",children:[Object(Me.jsx)(ot,{}),i.messages.map((function(e,t){var r,n,o,c=function(e){var t=i.messages[e],r=new Date(t.createdAt),n=r.toLocaleDateString("en-us",{weekday:"long",month:"long",day:"numeric"}),o=new Date;if(e>0){var s=i.messages[e-1],c=new Date(s.createdAt);return r.getDate()===c.getDate()?null:l()}return l();function l(){return r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()&&r.getDate()===o.getDate()?"Today":r.getMonth()===o.getMonth()&&r.getFullYear()===o.getFullYear()&&o.getDate()-r.getDate()===1?"Yesterday":n}}(t);return Object(Me.jsxs)(b.a,{direction:"column",children:[c&&Object(Me.jsxs)(b.a,{justify:"center",align:"center",bg:"secondary.100",children:[Object(Me.jsx)(C.a,{bg:"border.50",h:"1px",flex:1}),Object(Me.jsx)(j.a,{fontSize:"xs",px:2,py:"2px",color:"grey.100",children:c}),Object(Me.jsx)(C.a,{bg:"border.50",h:"1px",flex:1})]}),Object(Me.jsxs)(b.a,{direction:"row",_hover:{bg:"secondary.150"},p:6,py:3,children:[Object(Me.jsx)(S.a,{src:null===e||void 0===e||null===(r=e.userDetail)||void 0===r?void 0:r.profilePic,name:null===e||void 0===e||null===(n=e.userDetail)||void 0===n?void 0:n.name,boxSize:10,mr:3,children:Object(Me.jsx)(S.b,{boxSize:2,bg:"green.100",borderColor:"transparent",mr:"2px",mb:"2px"})}),Object(Me.jsxs)(b.a,{direction:"column",children:[Object(Me.jsxs)(b.a,{align:"center",children:[Object(Me.jsx)(j.a,{color:"grey.100",fontWeight:"semibold",fontSize:"sm",children:e.userDetail.name}),Object(Me.jsx)(j.a,{color:"grey.300",fontSize:"xs",ml:3,children:new Intl.DateTimeFormat("en",{hour12:!0,hour:"numeric",minute:"2-digit"}).format(new Date(e.createdAt))}),"teacher"===e.userDetail.roles&&Object(Me.jsx)(O,{title:s(le),icon:$e.b}),Object(Me.jsx)(y.a,{as:Re.b,color:"red.100",ml:2,onClick:function(){i.removeMessage(e._id)}})]}),(o=e.message,/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(o)?Object(Me.jsx)(j.a,{color:"blue.100",pt:1,fontSize:"sm",fontWeight:"medium",bg:"secondary.200",px:2,rounded:"full",cursor:"pointer",onClick:function(){window.open(e.message,"_blank").focus()},children:e.message}):Object(Me.jsx)(j.a,{color:"grey.200",pt:1,fontSize:"sm",fontWeight:"medium",children:e.message}))]})]})]})}))]}),Object(Me.jsx)("div",{ref:e})]})})),w=Object(p.a)((function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),r=t[0],o=t[1];return Object(Me.jsx)(b.a,{borderWidth:"1px",bg:"input.100",rounded:"full",borderColor:"border.50",m:5,px:2,__css:{boxShadow:" 5px 5px 10px rgba(0,0,0,.25)"},children:Object(Me.jsx)(Ge.a,{color:"grey.100",bg:"transparent",placeholder:i.selectedTitle,_placeholder:{color:"grey.300",opacity:.6},focusBorderColor:"transparent",borderWidth:0,value:r,onChange:function(e){return o(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&r.length>0&&(o(""),c(r))}})})})),I=Object(p.a)((function(){return Object(Me.jsx)(v.a,{mx:3,w:140,mb:"-2px",children:Object(Me.jsxs)(Ke.a,{size:"sm",children:[Object(Me.jsx)(Je.a,{pointerEvents:"none",children:Object(Me.jsx)(Ve.a,{color:"border.100",boxSize:3})}),Object(Me.jsx)(Ge.a,{borderWidth:"1px",borderColor:"border.50",boxShadow:"inner",rounded:"full",focusBorderColor:"primary.100",placeholder:s(te),fontSize:"sm",_placeholder:{color:"border.100"},color:"grey.100"})]})})}));return Object(Me.jsxs)(b.a,{flex:1,direction:"column",bg:"secondary.100",borderLeftColor:"border.50",borderLeftWidth:"1px",children:[function(){if("class"===i.subSelected){var e=null;if(e="admin"===i.selectedRole?r.adminStore.selectedClass:r.classStore.selectedClass,""===i.innerSelected)return Object(Me.jsxs)(h,{children:[Object(Me.jsx)(m,{title:e.title,subtitle:s(be),icon:tt.b}),Object(Me.jsx)(qe.a,{}),Object(Me.jsx)(v.a,{display:["none",null,null,null,"block"],children:Object(Me.jsx)(I,{})}),Object(Me.jsx)(v.a,{display:["none",null,null,null,null,"block"],children:Object(Me.jsx)(g,{quote:e.dailyMessage})})]});if("announcement"===i.innerSelected)return Object(Me.jsxs)(h,{children:[Object(Me.jsx)(m,{title:e.title,subtitle:s(ie),icon:et.a}),Object(Me.jsx)(qe.a,{}),Object(Me.jsx)(v.a,{display:["none",null,null,null,"block"],children:Object(Me.jsx)(I,{})})]});if("assignment"===i.innerSelected)return Object(Me.jsx)(x,{})}else{if("group"===i.subSelected){var t=null;return t="admin"!==i.selectedRole||r.groupStore.exists(i.selectedId)?r.groupStore.selectedGroup:r.adminStore.selectedGroup,Object(Me.jsxs)(h,{children:[Object(Me.jsx)(m,{title:t.title,subtitle:t.isPrivate?s(me):s(je),icon:t.isPrivate?Re.g:Re.e,color:t.isPrivate?"red.50":"primary.100",click:t.isAdmin?null:function(){return i.modal=l.selectedGroup.isGuidance?"edit_guidance":"edit_group"}}),Object(Me.jsx)(qe.a,{}),Object(Me.jsx)(v.a,{display:["none",null,null,null,"block"],children:Object(Me.jsx)(I,{})}),Object(Me.jsx)(b.a,{w:"1px",h:7,bg:"border.50",ml:2,display:["none",null,null,"flex"]}),Object(Me.jsx)(v.a,{display:["none",null,null,"block"],children:Object(Me.jsx)(f,{title:"".concat(t.members.length," ").concat(1===t.members.length?"Member":"Members"),icon:Re.e,color:"primary.100",iconSize:5,mx:2})}),Object(Me.jsx)(v.a,{display:["none",null,null,"block"],children:Object(Me.jsx)(f,{title:"Invite",icon:Re.f,color:"green.100",iconSize:5,mx:1,click:function(){i.modal="invite"}})})]})}if("direct"===i.subSelected){var n=r.directStore.selectedDirect;return Object(Me.jsxs)(h,{children:[n.otherMembers.map((function(e){return Object(Me.jsx)(b.a,{ml:1,children:Object(Me.jsx)(S.a,{src:e.profilePic,size:"sm",mb:"-1px"})},e._id)})),Object(Me.jsx)(j.a,{color:"grey.100",fontSize:"xl",ml:2,fontWeight:"semibold",display:1===n.otherMembers.length?["none",null,"inline"]:["none",null,null,null,"inline"],children:n.otherMemeberNames(60)}),1===n.otherMembers.length&&("student"===r.selfUser.roles||"student"===n.otherMembers[0].roles)&&n.commonClasses.map((function(e){return Object(Me.jsxs)(b.a,{align:"center",ml:3,display:["none",null,null,null,"flex"],children:[Object(Me.jsx)(v.b,{boxSize:"5px",bg:"green.100",mx:1}),Object(Me.jsx)(j.a,{color:"grey.300",children:e.title})]},e._id)})),Object(Me.jsx)(qe.a,{}),Object(Me.jsx)(v.a,{display:["none",null,null,null,"block"],children:Object(Me.jsx)(I,{})}),Object(Me.jsx)(b.a,{w:"1px",h:7,bg:"border.50",ml:2,display:["none",null,null,"block"]}),n.otherMembers>1?Object(Me.jsx)(v.a,{display:["none",null,null,"block"],children:Object(Me.jsx)(f,{title:"".concat(n.members.length," ").concat(1===n.members.length?"Member":"Members"),icon:Re.e,color:"primary.100",iconSize:5,mx:2})}):n.otherMembers[0].guardian&&("teacher"===i.selectedRole||"admin"===i.selectedRole)&&Object(Me.jsxs)(b.a,{direction:"column",align:"flex-end",mx:2,ml:4,my:-2,display:["none",null,null,"block"],children:[Object(Me.jsx)(b.a,{children:Object(Me.jsx)(j.a,{bg:"blue.100",fontSize:"xs",rounded:"full",px:2,color:"white",children:"guardian"})}),Object(Me.jsx)(j.a,{fontSize:"sm",children:n.otherMembers[0].guardian})]}),Object(Me.jsx)(v.a,{display:["none",null,null,"block"],children:Object(Me.jsx)(f,{title:"Invite",icon:Re.f,color:"green.100",iconSize:5,mx:1,click:function(){i.modal="invite"}})})]})}}}(),Object(Me.jsx)(b.a,{direction:"column",flex:1,overflowY:"auto",css:i.scrollCSS,mr:1,children:Object(Me.jsx)(k,{})}),("class"!==i.subSelected&&"admin"!==i.selected||("announcement"===i.innerSelected?"teacher"===i.selectedRole||"admin"===i.selectedRole:(i.innerSelected,"guardian"!==i.selectedRole)))&&Object(Me.jsx)(w,{}),Object(Me.jsx)(nt,{})]})})),st=r(13),ct=r(120),lt=Object(p.a)((function(e){var t=e._id,r=e.history,n=e.count,o=void 0===n?0:n,i=ze(),s=i.directStore,c=i.uiStore,l=ze(),a=s.findDirect(t),d=c.selectedId===a._id;return Object(Me.jsxs)(b.a,{px:5,py:"8px",align:"center",bg:d?"secondary.100":"transparent",fontWeight:d?"semibold":"normal",borderRightColor:d?"blue.100":"transparent",borderLeftColor:d?"blue.100":"transparent",borderRightWidth:2,borderLeftWidth:2,cursor:"pointer",_hover:{fontWeight:"semibold",borderRightColor:"blue.100",borderLeftColor:"blue.100",bg:"secondary.300"},onClick:function(){l.uiStore.innerSelected="",l.uiStore.innerSelectedId="",l.uiStore.subSelected="direct",l.uiStore.selectedId=t,l.memberStore.getMember(t)||r.push("/chat/direct/"+t)},children:[Object(Me.jsx)(S.a,{src:a.otherMembers[0].profilePic,boxSize:6,children:a.otherMembers.length>1&&Object(Me.jsx)(S.b,{borderWidth:0,bg:"grey.300",boxSize:4,children:Object(Me.jsx)(Pe.b,{boxSize:4,color:"secondary.100",fontSize:"xs",children:a.otherMembers.length})})}),Object(Me.jsx)(j.a,{fontSize:"sm",ml:2,color:d?"blue.100":"grey.100",fontWeight:d?"bold":"normal",children:a.otherMemeberNames(25)}),Object(Me.jsx)(qe.a,{}),Object(Me.jsx)(j.a,{color:d?"blue.100":"grey.100",fontWeight:d?"bold":"normal",fontSize:"sm",mr:2,children:o})]})})),at=r(267),dt=Object(p.a)((function(e){var t=e.history,r=Object(He.a)(),o=(r.isOpen,r.onOpen,r.onClose),i=ze(),s=i.uiStore,c=(i.memberStore,i.classStore),l=i.groupStore,a=Object(n.useState)(""),u=Object(d.a)(a,2),h=u[0],m=u[1],g=Object(n.useState)(""),p=Object(d.a)(g,2),f=p[0],x=p[1],O=Object(n.useState)(""),y=Object(d.a)(O,2),S=y[0],v=y[1],C=Object(n.useState)(""),k=Object(d.a)(C,2),w=k[0],I=k[1],z=Object(n.useState)(""),A=Object(d.a)(z,2),M=A[0],T=A[1],P=Object(n.useState)(!1),W=Object(d.a)(P,2),R=W[0],L=W[1];return Object(n.useEffect)((function(){s.modal.includes("edit_class")?(m(c.selectedClass.title),v(c.selectedClass.dailyMessage)):s.modal.includes("edit_g")?(m(l.selectedGroup.title),x(l.selectedGroup.description),L(l.selectedGroup.isPrivate)):s.modal.includes("edit_assignment")?(m(c.selectedClass.selectedAssignment.title),x(c.selectedClass.selectedAssignment.description),T(c.selectedClass.selectedAssignment.link),I(c.selectedClass.selectedAssignment.linkTitle)):(m(""),x(""))}),[s.modal]),Object(Me.jsx)(Xe.a,{isOpen:s.modal&&(s.modal.includes("create")||s.modal.includes("edit")),onClose:function(){o(),s.modal=""},size:"2xl",children:Object(Me.jsxs)(Xe.c,{bg:"secondary.100",color:"grey.100",overflow:"hidden",children:[Object(Me.jsx)(Ze,{title:function(){var e="";return e=s.modal.includes("edit")?"Modify ":"Create ",s.modal.includes("class")?e+="Class":s.modal.includes("group")?e+="Room":s.modal.includes("guidance")?e+="Guidance Room":s.modal.includes("assignment")&&(e+="Assignment"),e}(),icon:s.modal.includes("class")?Ae.d:s.modal.includes("group")?Re.e:s.modal.includes("guidance")?$e.a:s.modal.includes("assignment")?We.a:void 0,onClose:function(){s.modal="",o()}}),Object(Me.jsxs)(Xe.b,{bg:"secondary.200",children:[Object(Me.jsx)(Ge.a,{mt:4,bg:"secondary.100",value:h,onChange:function(e){return m(e.target.value)},placeholder:"Enter the title",_placeholder:{color:"grey.300"},color:"grey.100",focusBorderColor:"primary.100"}),s.modal.includes("edit_class")&&Object(Me.jsx)(Ge.a,{mt:4,value:S,bg:"secondary.100",onChange:function(e){return v(e.target.value)},placeholder:"Daily message here...",_placeholder:{color:"grey.300"},focusBorderColor:"primary.100"}),!s.modal.includes("class")&&Object(Me.jsx)(Ge.a,{mt:4,value:f,bg:"secondary.100",onChange:function(e){return x(e.target.value)},placeholder:"Enter the description",_placeholder:{color:"grey.300"},focusBorderColor:"primary.100"}),s.modal.includes("group")&&Object(Me.jsxs)(b.a,{mt:6,children:[Object(Me.jsx)(j.a,{mr:3,children:"Is Private?"}),Object(Me.jsx)(at.a,{checked:R,onChange:function(e){return L(e.target.checked)}})]}),s.modal.includes("assignment")&&Object(Me.jsxs)(b.a,{children:[Object(Me.jsx)(Ge.a,{mt:4,value:w,bg:"secondary.100",onChange:function(e){return I(e.target.value)},placeholder:"Assignment link title...",_placeholder:{color:"grey.300"},focusBorderColor:"primary.100",mr:2}),Object(Me.jsx)(Ge.a,{ml:2,mt:4,value:M,bg:"secondary.100",onChange:function(e){return T(e.target.value)},placeholder:"http://drive.google.com....",_placeholder:{color:"grey.300"},focusBorderColor:"primary.100"})]})]}),Object(Me.jsxs)(Xe.d,{p:3,bg:"secondary.200",children:[s.modal.includes("edit")&&!s.modal.includes("class")&&Object(Me.jsx)(Ue.a,{color:"white",bg:"red.100",_hover:{color:"red.100",bg:"transparent"},mr:3,onClick:function(){o(),s.crud({remove:!0}),s.modal="",s.modal.includes("assignment")||t.push("chat")},children:"Remove"}),Object(Me.jsx)(Ue.a,{color:"grey.100",bg:"secondary.300",_hover:{color:"primary.100",bg:"transparent"},mr:3,onClick:function(){o(),s.crud({title:h,description:f,isPrivate:R,link:M,linkTitle:w,daily:S}),s.modal=""},children:s.modal.includes("create")?"Create":"Update"})]})]})})})),ut=r(152),bt=r(173),ht=r(260),jt=r(148),mt=Object(p.a)((function(){var e,t=["Ethan","Nate","Adara"],r=ze();return Object(Me.jsxs)(b.a,{align:"center",p:4,py:3,borderBottomWidth:"1px",borderColor:"secondary.300",minW:"280px",children:[Object(Me.jsx)(v.b,{p:"3px",bg:"border.100",children:Object(Me.jsx)(S.a,{src:null===(e=r.selfUser)||void 0===e?void 0:e.profilePic,boxSize:10,children:Object(Me.jsx)(S.b,{boxSize:3,bg:"green.100",borderColor:"transparent"})})}),Object(Me.jsxs)(b.a,{direction:"column",px:2,flex:1,children:[Object(Me.jsx)(j.a,{color:"grey.300",fontSize:"sm",fontWeight:"semibold",py:1,pr:5,children:r.selfUser.name}),Object(Me.jsx)(b.a,{children:Object(Me.jsx)(j.a,{px:2,rounded:"full",fontSize:"xs",color:"grey.300",bg:"secondary.300",children:r.uiStore.selectedRole})})]}),Object(Me.jsx)(bt.c,{children:Object(Me.jsxs)(ht.a,{children:[Object(Me.jsx)(ht.b,{as:jt.a,icon:Object(Me.jsx)(ut.a,{}),bg:"transparent",color:"grey.200",_hover:{color:"primary.100"}}),Object(Me.jsxs)(ht.d,{bg:"secondary.100",borderWidth:0,children:[r.selfUser.userRoles.map((function(e){return"guardian"===e?Object(Me.jsxs)(b.a,{direction:"column",children:[Object(Me.jsx)(j.a,{ml:3,opacity:.4,my:2,children:"dependants"}),Object(Me.jsx)(b.a,{direction:"column",children:t.map((function(t){return Object(Me.jsx)(ht.c,{_hover:{bg:"secondary.300"},color:e===r.uiStore.selectedRole&&t===r.uiStore.dependant?"primary.100":"grey.100",fontWeight:e===r.uiStore.selectedRole&&t===r.uiStore.dependant?"semibold":"normal",onClick:function(){r.uiStore.selectedRole=e,r.uiStore.dependant=t,r.uiStore.history.push("/chat"),localStorage.setItem("fl_role",e)},children:t},t)}))})]},"guardian"):Object(Me.jsx)(ht.c,{_hover:{bg:"secondary.300"},color:e===r.uiStore.selectedRole?"primary.100":"grey.100",fontWeight:e===r.uiStore.selectedRole?"semibold":"normal",onClick:function(){r.uiStore.selectedRole=e,r.uiStore.history.push("/chat"),localStorage.setItem("fl_role",e)},children:e},e)})),Object(Me.jsx)(ht.c,{mt:2,pt:3,borderTopWidth:"1px",borderColor:"border.50",_hover:{bg:"secondary.300"},color:"grey.100",onClick:function(){r.uiStore.history.push("/login"),localStorage.removeItem("fl_token")},children:"Log out"})]})]})})]})})),gt=Object(p.a)((function(e){var t=e.type,r=e.arr,o=e.title,i=e.history,s=ze(),c=s.uiStore,u=s.HTTP,h=s.adminStore,m=ze(),g=Object(n.useState)(r),p=Object(d.a)(g,2),f=p[0],x=p[1],O=Object(n.useState)(""),y=Object(d.a)(O,2),v=y[0],C=y[1];return Object(Me.jsxs)(b.a,{p:5,pb:4,direction:"column",children:[Object(Me.jsx)(b.a,{align:"center",pb:3,children:Object(Me.jsx)(j.a,{fontWeight:"semibold",bg:"primary.100",color:"white",px:2,pt:"1px",rounded:"full",fontSize:"sm",children:o})}),Object(Me.jsxs)(Ke.a,{children:[Object(Me.jsx)(Je.a,{pointerEvents:"none",children:Object(Me.jsx)(Ve.a,{color:"border.100",mb:2})}),Object(Me.jsx)(Ge.a,{boxShadow:"md",rounded:"full",size:"sm",value:v,onChange:function(e){C(e.target.value),e.target.value.length>0?x(r.filter((function(t){return t.title.includes(e.target.value)}))):x(r)},focusBorderColor:"primary.100",placeholder:"Search",bg:"secondary.100",_placeholder:{color:"border.100"},color:"grey.100"})]}),Object(Me.jsx)(b.a,{maxH:"200px",mt:3,direction:"column",overflowY:"auto",css:c.scrollCSS,children:f.map((function(e){var r=e._id===c.selectedId;return Object(Me.jsxs)(b.a,{p:1,cursor:"pointer",onClick:Object(a.a)(l.a.mark((function r(){var n,o;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=function(){c.selectedId=e._id,c.subSelected=t,c.innerSelected="",console.log("go to "+"/chat/".concat(t,"/").concat(e._id)),i.push("/chat/".concat(t,"/").concat(e._id))},c.selectedId="",c.subSelected="",c.innerSelected="","class"!==t){r.next=18;break}if(!h.existsClass(e._id)){r.next=9;break}o(),r.next=15;break;case 9:return r.next=11,u("admin/class",{classId:e._id});case 11:(n=r.sent).members.forEach((function(e){m.memberStore.members.set(e._id,new L(e))})),h.classes.push(new Y(n.cls,m)),o();case 15:console.log(n),r.next=30;break;case 18:if(!h.existsGroup(e._id)){r.next=22;break}o(),r.next=30;break;case 22:return r.next=24,u("admin/group",{groupId:e._id});case 24:(n=r.sent).members.forEach((function(e){m.memberStore.members.get(e._id)||m.memberStore.members.set(e._id,new L(e))})),h.groups.push(new D(n.group,m)),console.log(n),console.log(h.groupById(e._id)),o();case 30:case"end":return r.stop()}}),r)}))),children:[Object(Me.jsx)(S.a,{name:e.title,size:"xs",bg:r?"primary.100":"secondary.300",color:r?"secondary.300":"grey.100",fontWeight:"bold",mr:2}),Object(Me.jsx)(j.a,{color:r?"primary.100":"grey.100",fontWeight:r?"bold":"normal",_hover:{fontWeight:"semibold",color:"primary.100"},fontSize:"sm",children:T(e.title)})]},e._id)}))})]})})),pt=r(24),ft=Object(p.a)((function(){var e=Object(He.a)(),t=(e.isOpen,e.onOpen,e.onClose),r=ze(),i=r.uiStore,s=r.memberStore,c=ze(),u=Object(n.useState)([]),h=Object(d.a)(u,2),m=h[0],g=h[1],p=o.a.useState(),f=Object(d.a)(p,2),x=f[0],O=f[1],y=Object(n.useState)({classes:[],direct:[],groups:[]}),v=Object(d.a)(y,2),k=v[0],w=v[1],I=Object(n.useState)([]),z=Object(d.a)(I,2),A=z[0],M=z[1];Object(n.useEffect)((function(){O(s.allMembers.map((function(e){return{value:e._id,label:e.name}}))),g([])}),[]);var T=function(){var e=Object(a.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=10;break}if(g([t.slice(-1)[0]]),!(t.length>0)){e.next=8;break}return e.next=5,c.HTTP("admin/search-user-info",{userId:t.slice(-1)[0].value});case 5:r=e.sent,w(r),console.log(r);case 8:e.next=12;break;case 10:g([]),w({classes:[],direct:[],groups:[]});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){var t=e.title;return Object(Me.jsx)(b.a,{children:Object(Me.jsx)(j.a,{bg:"primary.100",color:"white",rounded:"full",px:2,my:2,fontSize:"sm",fontWeight:"semibold",children:t})})},W=function(e){var t=e.item;return Object(Me.jsx)(b.a,{mr:2,children:Object(Me.jsx)(j.a,{bg:"secondary.100",color:"white",rounded:"full",px:2,my:2,fontSize:"sm",fontWeight:"semibold",cursor:"pointer",borderWidth:"1px",borderColor:A.find((function(e){return e._id===t._id}))?"primary.100":"border.50",_hover:{borderColor:"primary.100"},onClick:function(){var e=A.find((function(e){return e._id===t._id}));M(e?Object(pt.a)(A.filter((function(e){return e._id!==t._id}))):[].concat(Object(pt.a)(A),[t]))},children:t.title})})};return Object(Me.jsx)(Me.Fragment,{children:Object(Me.jsx)(Xe.a,{isOpen:i.modal&&"search-user"===i.modal,onClose:function(){t(),i.modal=""},size:"3xl",children:Object(Me.jsxs)(Xe.c,{bg:"secondary.100",color:"grey.100",overflow:"hidden",children:[Object(Me.jsx)(Ze,{title:"Search user logs",icon:Re.f,onClose:function(){i.modal="",t()}}),Object(Me.jsxs)(Xe.b,{bg:"secondary.200",children:[Object(Me.jsx)(rt.CUIAutoComplete,{inputStyleProps:{bg:"secondary.100",focusBorderColor:"primary.100",fontWeight:"semibold",_placeholder:{color:"grey.300",fontWeight:"normal"}},tagStyleProps:{bg:"primary.100",color:"white",h:6},disableCreateItem:!0,itemRenderer:function(e){return Object(Me.jsxs)(b.a,{flexDir:"row",alignItems:"center",py:2,children:[Object(Me.jsx)(S.a,{mr:2,size:"sm",src:s.getMember(e.value).profilePic}),Object(Me.jsx)(j.a,{children:e.label})]})},placeholder:"Start typing a name",items:x,listItemStyleProps:{py:0,my:0},hideToggleButton:!0,highlightItemBg:"primary.100",listStyleProps:{maxH:220,overflowY:"scroll",bg:"secondary.100"},selectedItems:m,onSelectedItemsChange:function(e){return T(e.selectedItems)}}),Object(Me.jsx)(C.a,{h:"1px",bg:"border.100",opacity:.4,mb:3}),Object(Me.jsxs)(b.a,{direction:"column",children:[Object(Me.jsx)(P,{title:"# Classes"}),Object(Me.jsx)(b.a,{wrap:"wrap",children:k.classes.map((function(e){return Object(Me.jsx)(W,{item:e},e._id)}))})]}),Object(Me.jsxs)(b.a,{direction:"column",children:[Object(Me.jsx)(P,{title:"# Rooms"}),k.groups.map((function(e){return Object(Me.jsx)(W,{item:e},e._id)}))]}),Object(Me.jsxs)(b.a,{direction:"column",children:[Object(Me.jsx)(P,{title:"# Direct Messages"}),Object(Me.jsx)(b.a,{wrap:"wrap",children:k.direct.map((function(e){return Object(Me.jsxs)(b.a,{align:"center",mr:2,bg:"secondary.100",rounded:"full",my:2,p:1,borderWidth:"1px",cursor:"pointer",borderColor:A.find((function(t){return t._id===e._id}))?"primary.100":"border.50",_hover:{borderColor:"primary.100"},onClick:function(){var t=A.find((function(t){return t._id===e._id}));M(t?Object(pt.a)(A.filter((function(t){return t._id!==e._id}))):[].concat(Object(pt.a)(A),[e]))},children:[Object(Me.jsx)(S.a,{src:e.profilePic,size:"xs",mr:1}),Object(Me.jsx)(j.a,{color:"white",fontSize:"sm",mr:1,children:e.name},e._id)]})}))})]})]}),Object(Me.jsx)(Xe.d,{p:3,bg:"secondary.200",children:Object(Me.jsx)(Ue.a,{color:"grey.100",bg:"secondary.300",_hover:{color:"primary.100",bg:"transparent"},mr:3,onClick:function(){t(),i.history.push("/chat/search");var e={};k.classes.forEach((function(t){e[t._id]={title:t.title,type:"class"}})),k.groups.forEach((function(t){e[t._id]={title:t.title,type:"group"}})),k.direct.forEach((function(t){e[t.direct]={title:t.name,profilePic:t.profilePic,type:"direct"}})),i.searchUser={userId:m[0].value,filters:A,all:e},i.modal=""},children:"Search"})})]})})})})),xt=Object(p.a)((function(e){var t=e.history,r=ze(),o=ze(),i=o.t,s=o.uiStore,c=Object(n.useState)({classes:!1,groups:!1,direct:!1,guidance:!1}),l=Object(d.a)(c,2),a=l[0],u=l[1];Object(n.useEffect)((function(){"chat"!==r.uiStore.selected&&(r.uiStore.selected="chat")}),[]);var h=Object(p.a)((function(){return Object(Me.jsx)(b.a,{direction:"column",children:Object(Me.jsx)(mt,{})})})),m=function(e){var t=e.icon,r=e.click;return Object(Me.jsx)(v.b,{bg:"secondary.300",p:"4px",ml:2,children:Object(Me.jsx)(y.a,{as:t,onClick:function(){return null===r||void 0===r?void 0:r()},cursor:"pointer",boxSize:4,color:"grey.100",_hover:{color:"primary.100"}})})},g=Object(p.a)((function(e){var t=e.title,r=e.icon1,n=e.icon2,o=e.click1,i=e.click2,s=e.type;return Object(Me.jsxs)(b.a,{p:2,pl:5,pr:4,_hover:{bg:"transparent"},align:"center",color:"grey.300",children:[Object(Me.jsx)(j.a,{fontWeight:"semibold",bg:"primary.100",color:"white",px:2,pt:"1px",rounded:"full",fontSize:"sm",children:t}),console.log(a[s]),Object(Me.jsx)(y.a,{as:a[s]?Ae.c:Ae.b,color:"primary.100",boxSize:3,ml:2,cursor:"pointer",onClick:function(){u(Object(ct.a)(Object(ct.a)({},a),{},Object(st.a)({},s,!a[s])))}}),Object(Me.jsx)(qe.a,{}),r&&Object(Me.jsx)(m,{icon:r,click:o}),n&&Object(Me.jsx)(m,{icon:n,click:i})]},t)})),f=Object(p.a)((function(e){var n=e._id,o=e.title,i=e.type,s=e.icon,c=void 0===s?null:s,l=e.count,a=void 0===l?0:l,d=e.color,u=n===r.uiStore.selectedId;return Object(Me.jsxs)(b.a,{px:5,py:2,align:"center",bg:u?"secondary.100":"transparent",fontWeight:u?"semibold":"normal",borderRightColor:u?"blue.100":"transparent",borderLeftColor:u?"blue.100":"transparent",_hover:{fontWeight:"semibold",color:"blue.100",bg:"secondary.300",borderRightColor:"blue.100",borderLeftColor:"blue.100"},cursor:"pointer",onClick:function(){r.uiStore.selectedId=n,r.uiStore.subSelected=i,r.uiStore.innerSelected="",t.push("/chat/".concat(i,"/").concat(n))},borderRightWidth:2,borderLeftWidth:2,children:[c?Object(Me.jsx)(v.b,{bg:"secondary.300",mr:2,p:"4px",children:Object(Me.jsx)(y.a,{as:c,color:u?"blue.100":d||"grey.300"})}):Object(Me.jsx)(S.a,{name:o,size:"xs",bg:u?"blue.100":"secondary.300",color:u?"secondary.300":"grey.100",fontWeight:"bold",mr:2}),Object(Me.jsx)(j.a,{color:u?"blue.100":"grey.100",fontWeight:u?"bold":"normal",_hover:{fontWeight:"semibold",color:"blue.100"},fontSize:"sm",children:o}),Object(Me.jsx)(qe.a,{}),Object(Me.jsx)(j.a,{color:"border.100",children:a})]},n)})),x=Object(p.a)((function(){return Object(Me.jsxs)(b.a,{direction:"column",overflowY:"auto",css:r.uiStore.scrollCSS,children:[Object(Me.jsx)(b.a,{px:0,py:4,direction:"column",children:r.groupStore.adminGroups.map((function(e){return Object(Me.jsx)(f,{title:e.title,_id:e._id,type:"group",color:"grey.300",icon:Re.g,count:e.messages.length},e._id)}))}),"admin"!==s.selectedRole&&Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)(g,{title:i(ee),icon1:Re.a,click1:function(){return s.modal="create_class"},type:"classes"},"0"),!a.classes&&Object(Me.jsx)(b.a,{px:0,pb:4,direction:"column",children:r.classStore.classes.map((function(e){return Object(Me.jsx)(f,{title:e.title,_id:e._id,type:"class",count:e.messages.length},e._id)}))})]}),Object(Me.jsx)(g,{title:i(re),icon1:Re.a,click1:function(){return s.modal="create_group"},icon2:Re.i,click2:null,type:"groups"},"1"),!a.groups&&Object(Me.jsx)(b.a,{px:0,pb:4,direction:"column",children:r.groupStore.filteredGroups(!1).map((function(e){return Object(Me.jsx)(f,{title:e.title,_id:e._id,type:"group",color:e.isAdmin?"red.50":"grey.300",icon:e.isPrivate?Re.g:e.isAdmin?"all"===e.adminType?tt.a:Re.j:Re.e,count:e.messages.length},e._id)}))}),"admin"!==s.selectedRole&&Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)(g,{title:i(ne),icon1:Re.a,click1:function(){return s.modal="create_guidance"},icon2:Re.i,click2:null,type:"guidance"},"2"),!a.guidance&&Object(Me.jsx)(b.a,{px:0,pb:4,direction:"column",children:r.groupStore.filteredGroups(!0).map((function(e){return Object(Me.jsx)(f,{title:e.title,_id:e._id,type:"group",color:"grey.300",icon:$e.a,count:e.messages.length},e._id)}))})]}),Object(Me.jsx)(g,{title:i(oe),icon1:Re.a,click1:function(){s.modal="direct"},type:"direct"},"332"),!a.direct&&Object(Me.jsx)(b.a,{px:0,pb:4,mt:2,direction:"column",children:r.directStore.direct.map((function(e){return Object(Me.jsx)(lt,{_id:e._id,history:t,count:e.messages.length})}))}),"admin"===s.selectedRole&&Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)(ft,{}),Object(Me.jsx)(b.a,{px:5,align:"center",pt:3,children:Object(Me.jsxs)(b.a,{align:"center",bg:"primary.100",_hover:{bg:"grey.300"},rounded:"full",px:2,py:"1px",cursor:"pointer",onClick:function(){return s.modal="search-user"},children:[Object(Me.jsx)(y.a,{as:Re.i,mr:1}),Object(Me.jsx)(j.a,{color:"white",fontWeight:"semibold",fontSize:"sm",children:"Search User"})]})}),Object(Me.jsx)(gt,{arr:r.adminStore.baseClass,type:"class",title:"All Classes",history:t}),Object(Me.jsx)(gt,{arr:r.adminStore.baseGroup,type:"group",title:"All Rooms",history:t})]})]})}));return"feed"!==r.uiStore.selected?Object(Me.jsxs)(b.a,{bg:"secondary.200",direction:"column",children:[Object(Me.jsx)(h,{}),Object(Me.jsx)(x,{}),Object(Me.jsx)(dt,{history:t})]}):null})),Ot=r(167),yt=r(104),St=r(168),vt=r(145),Ct=Object(p.a)((function(){var e=Object(He.a)(),t=(e.isOpen,e.onOpen,e.onClose),r=ze().uiStore;return Object(Me.jsx)(Xe.a,{isOpen:r.modal&&r.modal.includes("broadcast"),onClose:function(){t(),r.modal=""},size:"4xl",children:Object(Me.jsxs)(Xe.c,{bg:"secondary.100",color:"grey.100",overflow:"hidden",children:[Object(Me.jsx)(Ze,{title:"Broadcast Message",icon:yt.a,onClose:function(){r.modal="",t()}}),Object(Me.jsxs)(Xe.b,{bg:"secondary.200",children:[Object(Me.jsx)(vt.a,{mt:2,children:"Use windows + c to add \ud83d\ude42"}),Object(Me.jsx)(Ge.a,{mt:4,bg:"secondary.100",placeholder:"Enter the title",_placeholder:{color:"grey.300"},color:"grey.100",focusBorderColor:"primary.100"}),Object(Me.jsx)(Ge.a,{mt:4,bg:"secondary.100",placeholder:"Enter your message",_placeholder:{color:"grey.300"},color:"grey.100",focusBorderColor:"primary.100"}),Object(Me.jsx)(j.a,{mt:4,children:"Attach Media"}),Object(Me.jsxs)(b.a,{children:[Object(Me.jsx)(Ge.a,{flex:1,mt:4,bg:"secondary.100",placeholder:"Link Title",_placeholder:{color:"grey.300"},color:"grey.100",mr:4,focusBorderColor:"primary.100"}),Object(Me.jsx)(Ge.a,{flex:2,mt:4,bg:"secondary.100",placeholder:"http://www.google.com",_placeholder:{color:"grey.300"},color:"grey.100",focusBorderColor:"primary.100"})]}),Object(Me.jsx)(Ue.a,{color:"grey.100",bg:"primary.100",_hover:{color:"primary.100",bg:"transparent"},mr:3,mt:4,mb:4,children:"Upload Media"}),Object(Me.jsxs)(b.a,{my:4,children:[Object(Me.jsx)(at.a,{mr:4,children:"Send to everyone"}),Object(Me.jsx)(at.a,{mr:4,children:"Faculty"}),Object(Me.jsx)(at.a,{mr:4,children:"Students"}),Object(Me.jsx)(at.a,{mr:4,children:"Admins"}),Object(Me.jsx)(at.a,{mr:4,children:"Guardians"})]})]}),Object(Me.jsxs)(Xe.d,{p:3,bg:"secondary.200",children:[Object(Me.jsx)(Ue.a,{color:"grey.100",bg:"secondary.300",_hover:{color:"primary.100",bg:"transparent"},mr:3,mb:3,onClick:function(){t(),r.modal=""},children:"Broadcast"}),Object(Me.jsx)(Ue.a,{color:"grey.100",bg:"secondary.300",_hover:{color:"primary.100",bg:"transparent"},mr:3,mb:3,onClick:function(){t(),r.modal=""},children:"Schedule for later"})]})]})})})),kt=Object(p.a)((function(e){var t=e.history,r=ze().uiStore,n=ze(),o=Object(p.a)((function(e){var n=e.icon,o=e.type;return Object(Me.jsx)(b.a,{h:12,align:"center",justify:"center",children:Object(Me.jsx)(y.a,{as:n,boxSize:10,rounded:"xl",bg:r.selected===o?"primary.100":"transparent",p:2,color:r.selected===o?"white":"grey.300",_hover:{color:r.selected===o?"white":"grey.100"},cursor:"pointer",onClick:function(){"broadcast"===o?r.modal="broadcast":(r.selected=o,t.push("/".concat(o)))}})})})),i=Object(p.a)((function(e){var t=e.icon,r=e.click;return Object(Me.jsx)(b.a,{h:12,align:"center",justify:"center",_hover:{bg:"secondary.200"},children:Object(Me.jsx)(y.a,{as:t,boxSize:7,color:"grey.300",_hover:{color:"grey.100"},cursor:"pointer",onClick:r})})}));return Object(Me.jsxs)(b.a,{bg:"secondary.300",direction:"column",minW:"64px",children:[Object(Me.jsx)(Pe.b,{p:3,py:"15px",rounded:"md",children:Object(Me.jsx)(v.a,{bg:"secondary.200",p:1,rounded:"md",children:Object(Me.jsx)(h.a,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAIAAABMXPacAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFFmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTA2LTE1VDAzOjE1OjUyLTA0OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wNi0xNlQxNDozOToyOC0wNDowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wNi0xNlQxNDozOToyOC0wNDowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxODI1NWYzNC01NzFkLTE2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",boxSize:8,rounded:"md",boxShadow:"base"})})}),Object(Me.jsx)(C.a,{bg:"border.100",h:"0.01em",mb:12}),Object(Me.jsx)(o,{icon:Ot.a,type:"chat"},"1"),Object(Me.jsx)(o,{icon:tt.c,type:"feed"},"2"),"admin"===r.selectedRole&&Object(Me.jsx)(o,{icon:yt.a,type:"broadcast"},"3"),Object(Me.jsx)(qe.a,{}),Object(Me.jsx)(b.a,{h:12,align:"center",justify:"center",_hover:{bg:"secondary.200"},children:Object(Me.jsx)(j.a,{color:"grey.300",fontWeight:"semibold",cursor:"pointer",onClick:function(){n.language="en"===n.language?"es":"en",localStorage.setItem("lng",n.language)},children:"en"===n.language?"es":"en"})}),Object(Me.jsx)(C.a,{bg:"border.100",h:"0.01em"}),Object(Me.jsx)(i,{icon:St.a,click:function(){return r.switchTheme()}}),"admin"===r.selectedRole&&Object(Me.jsx)(Ct,{})]})})),wt=function(e){var t=e.history;return Object(Me.jsx)(b.a,{bg:"secondary.100",children:Object(Me.jsx)(kt,{history:t})})},It=r(169),zt=Object(p.a)((function(e){Object(u.b)();var t=ze().login,r=ze(),n=function(){var t=Object(a.a)(l.a.mark((function t(r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:alert("Cookies are not enabled, google sign in failed. You might be browsing in a private session."),e.history.push("/login");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var r=Object(a.a)(l.a.mark((function r(n){var o;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=n.accessToken,r.next=3,t(o);case 3:e.location.state?e.history.push(e.location.state.from):e.history.push("/");case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(Me.jsx)(b.a,{w:"100vw",h:"100vh",bg:"secondary.200",children:Object(Me.jsxs)(b.a,{flex:1,align:"center",justify:"center",direction:"column",children:[Object(Me.jsx)(h.a,{src:O,objectFit:"contain",boxSize:36,mb:4}),Object(Me.jsx)(j.a,{color:"grey.300",children:"Flathat High School"}),Object(Me.jsx)(j.a,{color:"grey.100",mt:12,fontWeight:"semibold",fontSize:"4xl",children:r.t($)}),Object(Me.jsx)(It.GoogleLogin,{clientId:"83440482211-1u7ofcmmj40ij1krbbd70aigbgnqa8kg.apps.googleusercontent.com",buttonText:"Login",onSuccess:o,onFailure:n,cookiePolicy:"single_host_origin",render:function(e){return Object(Me.jsx)(h.a,{src:"data:image/png;base64,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",onClick:e.onClick,objectFit:"contain",mt:4,cursor:"pointer",_hover:{opacity:.8}})}}),Object(Me.jsx)(C.a,{bg:"grey.300",w:64,mt:16,mb:4}),Object(Me.jsxs)(b.a,{children:[Object(Me.jsx)(j.a,{mx:2,fontWeight:"en"===r.language?"semibold":"normal",color:"en"===r.language?"grey.100":"grey.300",cursor:"pointer",onClick:function(){r.language="en",localStorage.setItem("lng","en")},children:"English"}),Object(Me.jsx)(j.a,{mx:2,fontWeight:"es"===r.language?"semibold":"normal",color:"es"===r.language?"grey.100":"grey.300",cursor:"pointer",onClick:function(){r.language="es",localStorage.setItem("lng","es")},children:"Espa\xf1ol"})]})]})})})),At=Object(p.a)((function(){var e=ze(),t=Object(n.useState)(!0),r=Object(d.a)(t,2),o=r[0],i=r[1];Object(u.b)();Object(n.useEffect)((function(){Object(a.a)(l.a.mark((function t(){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=localStorage.getItem("fl_tkn"))){t.next=8;break}return e.token=r,t.next=5,e.fetch();case 5:i(!1),t.next=9;break;case 8:i(!1);case 9:case"end":return t.stop()}}),t)})))()}),[]);var s=function(){return Object(Me.jsxs)(b.a,{h:"100vh",w:"100vw",bg:"secondary.300",color:"grey.100",justify:"center",align:"center",direction:"column",children:[Object(Me.jsx)(h.a,{src:O,objectFit:"contain",boxSize:48,mb:4}),Object(Me.jsx)(j.a,{color:"grey.300",children:"Smart communications for schools"}),Object(Me.jsx)(m.a,{size:"lg",mt:12,color:"grey.300"})]})};return Object(Me.jsx)(g.a,{theme:"light"===e.uiStore.theme?Se:Ce,children:o?Object(Me.jsx)(s,{}):Object(Me.jsx)(f.a,{children:Object(Me.jsx)(b.a,{h:"100vh",w:"100vw",bg:"secondary.100",children:Object(Me.jsxs)(x.d,{children:[Object(Me.jsx)(x.b,{path:"/login",component:zt}),Object(Me.jsx)(x.b,{path:"/",render:function(e){e.match,e.location;e.history.push("/feed")},exact:!0}),Object(Me.jsx)(x.b,{path:"/",render:function(t){t.match;var r=t.location;return function(t,r){e.uiStore.history=r;var n=t.pathname.split("/")[1];if(n||r.push("/feed"),"chat"===n||"feed"===n){if("chat"===n){var o=t.pathname.split("/")[2];if(o)if("class"===o){var i=t.pathname.split("/")[3];if(e.classStore.exists(i)){e.uiStore.selectedId!==i&&(e.uiStore.subSelected="class",e.uiStore.selectedId=i);var s=t.pathname.split("/")[4];if(s)if("announcement"===s)"announcement"!==e.uiStore.innerSelected&&(e.uiStore.innerSelected="announcement",e.uiStore.innerSelectedId="");else if("assignment"===s){var c=t.pathname.split("/")[5];e.classStore.selectedClass.assignmentExists(c)?"assignment"!==e.uiStore.innerSelected&&(e.uiStore.innerSelected="assignment",e.uiStore.innerSelectedId!==c&&(e.uiStore.innerSelectedId=c)):r.push("/chat/class/"+i)}else r.push("/chat/class/"+i)}}else if("group"===o){var l=t.pathname.split("/")[3];e.groupStore.exists(l)&&e.uiStore.selectedId!==l&&(e.uiStore.subSelected="group",e.uiStore.selectedId=l)}else"direct"===o||"search"===o||r.push("/chat")}}else r.push("/feed")}(r,t.history),e.isLoggedIn()?Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)(x.b,{path:"/",component:wt}),Object(Me.jsx)(x.b,{path:"/feed",component:_e}),Object(Me.jsx)(x.b,{path:"/chat",component:xt}),"admin"===e.uiStore.selectedRole&&Object(Me.jsx)(x.b,{path:"/chat/search",component:Te}),Object(Me.jsx)(x.b,{path:"/chat/class",render:function(e){var t=e.location,r=e.history;return Object(Me.jsxs)(Me.Fragment,{children:[Object(Me.jsx)(Ee,{history:r,location:t}),Object(Me.jsx)(it,{history:r,location:t})]})}}),Object(Me.jsx)(x.b,{path:"/chat/group",render:function(e){var t=e.location,r=e.history;return Object(Me.jsx)(Me.Fragment,{children:Object(Me.jsx)(it,{history:r,location:t})})}}),Object(Me.jsx)(x.b,{path:"/chat/direct",render:function(e){var t=e.location,r=e.history;return Object(Me.jsx)(Me.Fragment,{children:Object(Me.jsx)(it,{history:r,location:t})})}})]}):Object(Me.jsx)(x.a,{to:{pathname:"/login",state:{from:r.pathname}}})}})]})})})})}));r(153),r(221),r(222),r(223),r(224),r(225),r(226),r(227),r(228);s.a.render(Object(Me.jsx)(o.a.StrictMode,{children:Object(Me.jsx)(At,{})}),document.getElementById("root"))}},[[229,1,2]]]);
//# sourceMappingURL=main.d0509434.chunk.js.map